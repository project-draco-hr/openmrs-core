{
  if (!isArchiveMigrationRequired())   return dao.getHL7InArchiveByUuidFromFileSystem(uuid);
 else   if (isArchiveMigrationRequired() && Hl7InArchivesMigrateThread.getTransferStatus() == Status.NONE)   return dao.getHL7InArchiveByUuid(uuid);
  throw new APIException("Can't retrieve hl7 archive by uuid while archive migration is running");
}
