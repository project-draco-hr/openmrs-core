{
  initializeInMemoryDatabase();
  executeDataSet("org/openmrs/serialization/include/ConceptSerializationTest.xml");
  authenticate();
  Concept concept=Context.getConceptService().getConcept(3);
  SimpleDateFormat sdf=new SimpleDateFormat("yyyy-MM-dd HH:mm:ss z");
  String xmlOutput=Context.getSerializationService().serialize(concept,XStreamSerializer.class);
  XMLAssert.assertXpathEvaluatesTo("0cbe2ed3-cd5f-4f46-9459-26127c9265ab","//concept/@uuid",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("3","/concept/conceptId",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("false","/concept/retired",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("4","/concept/datatype/conceptDatatypeId",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("3","/concept/conceptClass/conceptClassId",xmlOutput);
  XMLAssert.assertXpathExists("/concept/creator",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("false","/concept/set",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo(sdf.format(concept.getDateCreated()),"/concept/dateCreated",xmlOutput);
  XMLAssert.assertXpathExists("/concept/names/conceptName[conceptNameId=2456]",xmlOutput);
  XMLAssert.assertXpathExists("/concept/answers/conceptAnswer[conceptAnswerId=762]",xmlOutput);
  XMLAssert.assertXpathExists("/concept/conceptSets/conceptSet[conceptSetId=1]",xmlOutput);
  XMLAssert.assertXpathExists("/concept/descriptions/conceptDescription[conceptDescriptionId=9]",xmlOutput);
  XMLAssert.assertXpathExists("/concept/conceptMappings/conceptMap[conceptMapId=1]",xmlOutput);
}
