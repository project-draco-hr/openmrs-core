{
  if (isGZIPSupported(request) && isGZIPEnabled()) {
    log.debug("GZIP supported and enabled, compressing response");
    GZIPResponseWrapper wrappedResponse=new GZIPResponseWrapper(response);
    chain.doFilter(request,wrappedResponse);
    wrappedResponse.finishResponse();
    return;
  }
  chain.doFilter(request,response);
}
