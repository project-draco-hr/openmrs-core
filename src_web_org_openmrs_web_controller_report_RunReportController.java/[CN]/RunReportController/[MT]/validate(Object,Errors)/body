{
  CommandObject command=(CommandObject)commandObject;
  ValidationUtils.rejectIfEmpty(errors,"schema","Missing reportId, or report not found");
  if (command.getSchema() != null) {
    ReportSchema rs=command.getSchema();
    Set<String> requiredParams=new HashSet<String>();
    if (rs.getReportParameters() != null) {
      for (      Parameter p : rs.getReportParameters()) {
        if (p.isRequired())         requiredParams.add(p.getName());
      }
    }
    for (    Map.Entry<String,String> e : command.getUserEnteredParams().entrySet()) {
      if (StringUtils.hasText(e.getValue()))       requiredParams.remove(e.getKey());
    }
    if (requiredParams.size() > 0) {
      errors.rejectValue("userEnteredParams","Enter all parameter values");
    }
    if (rs.getDataSetDefinitions() == null || rs.getDataSetDefinitions().size() == 0)     errors.rejectValue("schema","ReportSchema must declare some data set definitions");
  }
  ValidationUtils.rejectIfEmpty(errors,"selectedRenderer","Pick a renderer");
}
