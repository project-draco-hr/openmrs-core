{
  CommandObject ret=new CommandObject();
  if (Context.isAuthenticated()) {
    Integer id=Integer.valueOf(request.getParameter("reportId"));
    ReportService reportService=(ReportService)Context.getService(ReportService.class);
    ReportSchema schema=reportService.getReportSchema(id);
    ret.setSchema(schema);
    ret.setRenderingModes(reportService.getRenderingModes(schema));
  }
  return ret;
}
