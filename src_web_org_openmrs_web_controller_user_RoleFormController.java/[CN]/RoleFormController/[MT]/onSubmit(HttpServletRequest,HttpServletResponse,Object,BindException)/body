{
  HttpSession httpSession=request.getSession();
  Context context=(Context)httpSession.getAttribute(WebConstants.OPENMRS_CONTEXT_HTTPSESSION_ATTR);
  String view=getFormView();
  if (context != null && context.isAuthenticated()) {
    Role role=(Role)obj;
    try {
      context.getAdministrationService().updateRole(role);
      view=getSuccessView();
      httpSession.setAttribute(WebConstants.OPENMRS_MSG_ATTR,"Role.saved");
    }
 catch (    APIException e) {
      errors.reject(e.getMessage());
      return showForm(request,response,errors);
    }
  }
  return new ModelAndView(new RedirectView(view));
}
