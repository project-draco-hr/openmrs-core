{
  PersonService ps=Context.getPersonService();
  Person personA=ps.getPerson(personAId);
  Person personB=ps.getPerson(personBId);
  RelationshipType relType=Context.getPersonService().getRelationshipType(relationshipTypeId);
  Relationship rel=new Relationship();
  rel.setPersonA(personA);
  rel.setPersonB(personB);
  rel.setRelationshipType(relType);
  if (StringUtils.isNotBlank(startDateStr)) {
    rel.setStartDate(Context.getDateFormat().parse(startDateStr));
  }
  Map<String,String> map=new HashMap<String,String>();
  MapBindingResult errors=new MapBindingResult(map,Relationship.class.getName());
  new RelationshipValidator().validate(rel,errors);
  String errmsgs[];
  if (!errors.hasErrors()) {
    ps.saveRelationship(rel);
    errmsgs=null;
    return errmsgs;
  }
  errmsgs=errors.getGlobalError().getCodes();
  return errmsgs;
}
