{
  List<PatientProgram> ret=new ArrayList<PatientProgram>();
  for (  PatientProgram pp : Context.getProgramWorkflowService().getPatientPrograms(patient)) {
    if (pp.getActive(onDate == null ? new Date() : onDate)) {
      ret.add(pp);
    }
  }
  return ret;
}
