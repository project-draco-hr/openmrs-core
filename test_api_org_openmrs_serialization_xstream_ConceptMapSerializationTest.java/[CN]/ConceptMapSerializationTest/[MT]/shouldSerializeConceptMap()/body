{
  initializeInMemoryDatabase();
  executeDataSet("org/openmrs/serialization/include/ConceptMapSerializationTest.xml");
  authenticate();
  ConceptMap cm=Context.getConceptService().getConcept(3).getConceptMappings().iterator().next();
  SimpleDateFormat sdf=new SimpleDateFormat("yyyy-MM-dd HH:mm:ss z");
  String xmlOutput=Context.getSerializationService().serialize(cm,XStreamSerializer.class);
  XMLAssert.assertXpathEvaluatesTo("6c36f786-957d-4a14-a6ed-e66ced057066","/conceptMap/@uuid",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("1","/conceptMap/conceptMapId",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("3","/conceptMap/concept/conceptId",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("1","/conceptMap/source/conceptSourceId",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("test","/conceptMap/sourceCode",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("test","/conceptMap/comment",xmlOutput);
  XMLAssert.assertXpathExists("/conceptMap/creator",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo(sdf.format(cm.getDateCreated()),"/conceptMap/dateCreated",xmlOutput);
}
