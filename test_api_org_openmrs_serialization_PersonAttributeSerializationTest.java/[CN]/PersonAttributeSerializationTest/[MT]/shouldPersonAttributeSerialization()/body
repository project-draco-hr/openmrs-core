{
  initializeInMemoryDatabase();
  executeDataSet("org/openmrs/serialization/include/PersonAttributeSerializationTest.xml");
  authenticate();
  PersonAttribute pa=Context.getPersonService().getPersonAttribute(1);
  SimpleDateFormat sdf=new SimpleDateFormat("yyyy-MM-dd HH:mm:ss z");
  String xmlOutput=Context.getSerializationService().serialize(pa,XStreamSerializer.class);
  XMLAssert.assertXpathEvaluatesTo("1","/personAttribute/personAttributeId",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("false","/personAttribute/@voided",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("0768f3da-b692-44b7-a33f-abf2c450474e","/personAttribute/@uuid",xmlOutput);
  XMLAssert.assertXpathExists("/personAttribute/creator",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo(sdf.format(pa.getDateCreated()),"/personAttribute/dateCreated",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("501","/personAttribute/person/personId",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("1","/personAttribute/attributeType/personAttributeTypeId",xmlOutput);
}
