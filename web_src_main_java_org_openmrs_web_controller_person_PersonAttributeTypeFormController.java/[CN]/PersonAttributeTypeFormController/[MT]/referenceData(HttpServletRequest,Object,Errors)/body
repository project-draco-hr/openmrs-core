{
  Map<String,Object> map=new HashMap<String,Object>();
  List<Privilege> privileges=new ArrayList<Privilege>();
  if (Context.isAuthenticated()) {
    privileges=Context.getUserService().getAllPrivileges();
  }
  Set<String> formats=new TreeSet<String>(FieldGenHandlerFactory.getSingletonInstance().getHandlers().keySet());
  formats.add("java.lang.Character");
  formats.add("java.lang.Integer");
  formats.add("java.lang.Float");
  formats.add("java.lang.Boolean");
  formats.remove("java.util.Date");
  map.put("privileges",privileges);
  map.put("formats",formats);
  return map;
}
