{
  if (pi == null) {
    throw new BlankIdentifierException("PatientIdentifier.error.null");
  }
  if (!pi.isVoided()) {
    if (Context.getPatientService().isIdentifierInUseByAnotherPatient(pi)) {
      throw new IdentifierNotUniqueException(getMessage("PatientIdentifier.error.notUniqueWithParameter",pi.getIdentifier()));
    }
    validateIdentifier(pi.getIdentifier(),pi.getIdentifierType());
  }
}
