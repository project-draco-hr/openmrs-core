{
  if (pi == null) {
    throw new BlankIdentifierException("Patient Identifier cannot be null.");
  }
  if (!pi.isVoided()) {
    if (Context.getPatientService().isIdentifierInUseByAnotherPatient(pi)) {
      throw new IdentifierNotUniqueException("Identifier " + pi.getIdentifier() + " already in use by another patient");
    }
    validateIdentifier(pi.getIdentifier(),pi.getIdentifierType());
  }
}
