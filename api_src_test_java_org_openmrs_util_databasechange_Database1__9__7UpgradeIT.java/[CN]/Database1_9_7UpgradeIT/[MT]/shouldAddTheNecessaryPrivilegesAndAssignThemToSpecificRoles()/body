{
  final String GET_ENCOUNTERS="Get Encounters";
  final String ADD_VISITS="Add Visits";
  final String ADD_ENCOUNTERS="Add Encounters";
  final String EDIT_ENCOUNTERS="Edit Encounters";
  final String GET_VISITS="Get Visits";
  final String GET_PROVIDERS="Get Providers";
  final String PROVIDER_ROLE="Provider";
  final String AUTHENTICATED_ROLE="Authenticated";
  Connection connection=upgradeTestUtil.getConnection();
  final String insertPrivilegeQuery="insert into privilege (privilege,uuid) values ('" + GET_ENCOUNTERS + "','a6a521de-3992-11e6-899a-a4d646d86a8a')";
  DatabaseUtil.executeSQL(connection,insertPrivilegeQuery,false);
  DatabaseUtil.executeSQL(connection,"insert into role_privilege (role,privilege) values ('" + PROVIDER_ROLE + "', '"+ GET_ENCOUNTERS+ "'), ('"+ PROVIDER_ROLE+ "', '"+ EDIT_ENCOUNTERS+ "'), ('"+ AUTHENTICATED_ROLE+ "', '"+ ADD_ENCOUNTERS+ "')",false);
  connection.commit();
  String query="select privilege from privilege where privilege = '" + GET_VISITS + "' or "+ "privilege = '"+ GET_PROVIDERS+ "'";
  assertEquals(0,DatabaseUtil.executeSQL(connection,query,true).size());
  assertTrue(roleHasPrivilege(PROVIDER_ROLE,GET_ENCOUNTERS));
  assertTrue(roleHasPrivilege(PROVIDER_ROLE,EDIT_ENCOUNTERS));
  assertFalse(roleHasPrivilege(PROVIDER_ROLE,GET_VISITS));
  assertFalse(roleHasPrivilege(PROVIDER_ROLE,GET_PROVIDERS));
  assertFalse(roleHasPrivilege(PROVIDER_ROLE,ADD_VISITS));
  assertTrue(roleHasPrivilege(AUTHENTICATED_ROLE,ADD_ENCOUNTERS));
  upgradeTestUtil.upgrade();
  connection=upgradeTestUtil.getConnection();
  assertEquals(2,DatabaseUtil.executeSQL(connection,query,true).size());
  assertTrue(roleHasPrivilege(PROVIDER_ROLE,GET_VISITS));
  assertTrue(roleHasPrivilege(PROVIDER_ROLE,GET_PROVIDERS));
  assertTrue(roleHasPrivilege(PROVIDER_ROLE,ADD_VISITS));
  assertTrue(roleHasPrivilege(AUTHENTICATED_ROLE,ADD_VISITS));
}
