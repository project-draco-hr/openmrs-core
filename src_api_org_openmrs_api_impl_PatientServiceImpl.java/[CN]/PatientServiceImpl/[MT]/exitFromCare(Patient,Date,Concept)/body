{
  if (patient != null && dateExited != null && reasonForExit != null) {
    saveReasonForExitObs(patient,dateExited,reasonForExit);
    Context.getProgramWorkflowService().triggerStateConversion(patient,reasonForExit,dateExited);
    Context.getOrderService().discontinueAllOrders(patient,reasonForExit,dateExited);
  }
 else {
    if (patient == null)     throw new APIException("Attempting to exit from care an invalid patient. Cannot proceed");
    if (dateExited == null)     throw new APIException("Must supply a valid dateExited when indicating that a patient has left care");
    if (reasonForExit == null)     throw new APIException("Must supply a valid reasonForExit (even if 'Unknown') when indicating that a patient has left care");
  }
}
