{
  executeDataSet(CREATE_PATIENT_XML);
  Patient patient=createBasicPatient();
  List<PatientIdentifierType> patientIdTypes=ps.getPatientIdentifierTypes();
  assertNotNull(patientIdTypes);
  PatientIdentifier patientIdentifier=new PatientIdentifier();
  patientIdentifier.setIdentifier("123-0");
  patientIdentifier.setIdentifierType(patientIdTypes.get(0));
  patientIdentifier.setLocation(encounterService.getLocations().get(0));
  Set<PatientIdentifier> patientIdentifiers=new TreeSet<PatientIdentifier>();
  patientIdentifiers.add(patientIdentifier);
  patient.setIdentifiers(patientIdentifiers);
  ps.createPatient(patient);
  Patient createdPatient=ps.getPatient(patient.getPatientId());
  assertNotNull(createdPatient);
  assertNotNull(createdPatient.getPatientId());
  Patient createdPatientById=ps.getPatient(createdPatient.getPatientId());
  assertNotNull(createdPatientById);
}
