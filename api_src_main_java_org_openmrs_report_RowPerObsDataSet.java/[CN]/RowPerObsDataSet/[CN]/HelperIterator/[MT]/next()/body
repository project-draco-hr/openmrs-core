{
  Locale locale=Context.getLocale();
  Obs obs=iter.next();
  Map<String,Object> ret=new HashMap<String,Object>();
  ret.put("patientId",obs.getPersonId());
  ret.put("question",obs.getConcept().getName(locale,false));
  ret.put("questionConceptId",obs.getConcept().getConceptId());
  ret.put("answer",obs.getValueAsString(locale));
  if (obs.getValueCoded() != null)   ret.put("answerConceptId",obs.getValueCoded());
  ret.put("obsDatetime",obs.getObsDatetime());
  if (obs.getEncounter() != null)   ret.put("encounterId",obs.getEncounter().getEncounterId());
  if (obs.getObsGroup() != null)   ret.put("obsGroupId",obs.getObsGroup().getObsId());
  return ret;
}
