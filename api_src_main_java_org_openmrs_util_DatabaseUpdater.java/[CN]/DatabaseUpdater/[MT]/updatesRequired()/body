{
  log.debug("checking for updates");
  List<OpenMRSChangeSet> changesets=getUnrunDatabaseChanges();
  Database database=null;
  try {
    Liquibase liquibase=getLiquibase(null,null);
    database=liquibase.getDatabase();
    if (isLocked()) {
      if (changesets.size() == 0) {
        DatabaseUpdater.releaseDatabaseLock();
        return false;
      }
 else {
        return true;
      }
    }
  }
 catch (  Exception e) {
  }
 finally {
    try {
      database.getConnection().close();
    }
 catch (    Throwable t) {
    }
  }
  return changesets.size() > 0;
}
