{
  for (  ProviderAttributeType providerAttributeType : Context.getProviderService().getAllProviderAttributeTypes()) {
    if (providerAttributeType.getMinOccurs() > 0 || providerAttributeType.getMaxOccurs() != null) {
      int numFound=0;
      for (      ProviderAttribute providerAttribute : provider.getActiveAttributes()) {
        if (providerAttribute.getAttributeType().equals(providerAttributeType))         ++numFound;
      }
      if (providerAttributeType.getMinOccurs() > 0) {
        if (numFound < providerAttributeType.getMinOccurs()) {
          if (providerAttributeType.getMinOccurs() == 1)           errors.rejectValue("activeAttributes","error.required",new Object[]{providerAttributeType.getName()},null);
 else           errors.rejectValue("activeAttributes","attribute.error.minOccurs",new Object[]{providerAttributeType.getName(),providerAttributeType.getMinOccurs()},null);
        }
      }
      if (providerAttributeType.getMaxOccurs() != null) {
        if (numFound > providerAttributeType.getMaxOccurs()) {
          errors.rejectValue("activeAttributes","attribute.error.maxOccurs",new Object[]{providerAttributeType.getName(),providerAttributeType.getMaxOccurs()},null);
        }
      }
    }
  }
}
