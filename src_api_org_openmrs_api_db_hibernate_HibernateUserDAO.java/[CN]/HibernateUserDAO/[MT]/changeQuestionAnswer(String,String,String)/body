{
  User u=Context.getAuthenticatedUser();
  LoginCredential credentials=getLoginCredential(u);
  if (!credentials.checkPassword(pw)) {
    log.error("Passwords don't match");
    throw new DAOException("Passwords don't match");
  }
  log.info("Updating secret question and answer for " + u.getUsername());
  credentials.setSecretQuestion(question);
  credentials.setSecretAnswer(answer);
  updateLoginCredential(credentials);
}
