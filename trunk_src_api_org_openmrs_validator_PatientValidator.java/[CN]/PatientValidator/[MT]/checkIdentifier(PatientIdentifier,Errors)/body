{
  PatientService ps=Context.getPatientService();
  PatientIdentifierType pit=identifier.getIdentifierType();
  if (pit.hasValidator()) {
    IdentifierValidator piv=ps.getIdentifierValidator(pit.getValidator());
    try {
      if (!piv.isValid(identifier.getIdentifier()))       errors.reject("Invalid checkdigit for " + identifier.getIdentifier());
    }
 catch (    UnallowedIdentifierException ex) {
      errors.reject("The identifier " + identifier.getIdentifier() + " is not allowed for validator "+ piv.getName()+ ".");
    }
  }
}
