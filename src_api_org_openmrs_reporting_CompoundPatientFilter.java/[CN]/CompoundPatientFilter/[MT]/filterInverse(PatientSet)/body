{
  if (operator == BooleanOperator.AND) {
    Set<Integer> ptIds=new HashSet<Integer>();
    for (    PatientFilter pf : filters)     ptIds.addAll(pf.filterInverse(input).getPatientIds());
    PatientSet ps=new PatientSet();
    ps.copyPatientIds(ptIds);
    return ps;
  }
 else {
    PatientSet temp=input;
    for (    PatientFilter pf : filters) {
      temp=pf.filterInverse(temp);
    }
    return temp;
  }
}
