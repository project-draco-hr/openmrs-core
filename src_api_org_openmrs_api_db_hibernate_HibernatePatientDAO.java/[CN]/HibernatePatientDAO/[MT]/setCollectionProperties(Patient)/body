{
  if (patient.getCreator() == null) {
    patient.setCreator(context.getAuthenticatedUser());
    patient.setDateCreated(new Date());
  }
  patient.setChangedBy(context.getAuthenticatedUser());
  patient.setDateChanged(new Date());
  if (patient.getAddresses() != null)   for (Iterator<PatientAddress> i=patient.getAddresses().iterator(); i.hasNext(); ) {
    PatientAddress pAddress=i.next();
    if (pAddress.getDateCreated() == null) {
      pAddress.setDateCreated(new Date());
      pAddress.setCreator(context.getAuthenticatedUser());
      pAddress.setPatient(patient);
    }
  }
  if (patient.getNames() != null)   for (Iterator<PatientName> i=patient.getNames().iterator(); i.hasNext(); ) {
    PatientName pName=i.next();
    if (pName.getDateCreated() == null) {
      pName.setDateCreated(new Date());
      pName.setCreator(context.getAuthenticatedUser());
      pName.setPatient(patient);
    }
  }
  if (patient.getIdentifiers() != null)   for (Iterator<PatientIdentifier> i=patient.getIdentifiers().iterator(); i.hasNext(); ) {
    PatientIdentifier pIdentifier=i.next();
    if (pIdentifier.getDateCreated() == null) {
      pIdentifier.setDateCreated(new Date());
      pIdentifier.setCreator(context.getAuthenticatedUser());
      pIdentifier.setPatient(patient);
    }
  }
}
