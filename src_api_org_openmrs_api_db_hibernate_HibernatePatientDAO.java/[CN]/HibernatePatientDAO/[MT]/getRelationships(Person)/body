{
  Session session=HibernateUtil.currentSession();
  Query query=null;
  List<Relationship> relationships=new Vector<Relationship>();
  if (person.getPatient() != null) {
    query=session.createQuery("from Relationship r where r.person.patient = :p1 or r.relative.patient = :p2 order by r.relationshipId asc ").setParameter("p1",person.getPatient()).setParameter("p2",person.getPatient());
  }
 else   if (person.getUser() != null) {
    query=session.createQuery("from Relationship r where r.person.user = :p1 or r.relative.user = :p2 order by r.relationshipId asc ").setParameter("p1",person.getUser()).setParameter("p2",person.getUser());
  }
  if (query != null)   relationships=query.list();
  return relationships;
}
