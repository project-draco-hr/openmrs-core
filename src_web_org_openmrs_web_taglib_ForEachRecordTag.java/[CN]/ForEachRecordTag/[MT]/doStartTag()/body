{
  records=null;
  Context context=(Context)pageContext.getSession().getAttribute(WebConstants.OPENMRS_CONTEXT_HTTPSESSION_ATTR);
  Locale locale=context.getLocale();
  if (name.equals("patientIdentifierType")) {
    PatientService ps=context.getPatientService();
    records=ps.getPatientIdentifierTypes().iterator();
  }
 else   if (name.equals("location")) {
    EncounterService es=context.getEncounterService();
    records=es.getLocations().iterator();
  }
 else   if (name.equals("tribe")) {
    PatientService ps=context.getPatientService();
    records=ps.getTribes().iterator();
  }
 else   if (name.equals("civilStatus")) {
    ConceptService cs=context.getConceptService();
    Concept civilStatus=cs.getConcept(OpenmrsConstants.CIVIL_STATUS_CONCEPT_ID);
    if (civilStatus == null)     log.error("OpenmrsConstants.CIVIL_STATUS_CONCEPT_ID is defined incorrectly.");
    records=civilStatus.getAnswers().iterator();
    Map<String,String> opts=new HashMap<String,String>();
    for (    ConceptAnswer a : civilStatus.getAnswers()) {
      opts.put(a.getAnswerConcept().getConceptId().toString(),a.getAnswerConcept().getName(locale,false).getName());
    }
    records=opts.entrySet().iterator();
    if (select != null)     select=select.toString() + "=" + opts.get(select);
  }
 else   if (name.equals("gender")) {
    Map<String,String> opts=OpenmrsConstants.GENDER();
    records=opts.entrySet().iterator();
    if (select != null)     select=select.toString() + "=" + opts.get(select);
  }
 else {
    log.error(name + " not found in ForEachRecord list");
  }
  if (records == null)   return SKIP_BODY;
 else   return EVAL_BODY_BUFFERED;
}
