{
  final List<Concept> concepts=new LuceneQueryBuilder<Concept>(sessionFactory.getCurrentSession()){
    @Override protected org.apache.lucene.search.Query prepareQuery() throws ParseException {
      StringBuilder query=new StringBuilder();
      if (!StringUtils.isBlank(name)) {
        final String searchPhrase=QueryParser.escape(name);
        final Locale searchLocale;
        if (locale == null) {
          searchLocale=Context.getLocale();
        }
 else {
          searchLocale=locale;
        }
        if (exactLocale == null || exactLocale) {
          query.append(" +names.name_").append(searchLocale).append(":").append("\"").append(searchPhrase).append("\"");
        }
 else {
          query.append(newNamesQuery(Sets.newHashSet(searchLocale),searchPhrase,false));
        }
      }
      query.append(" +retired:false");
      org.apache.lucene.search.Query parsedQuery=newQueryParser().parse(query.toString());
      return parsedQuery;
    }
  }
.list();
  return concepts;
}
