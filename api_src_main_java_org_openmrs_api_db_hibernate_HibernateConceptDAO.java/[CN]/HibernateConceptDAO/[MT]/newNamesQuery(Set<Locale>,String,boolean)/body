{
  final String phrase;
  if (keywords) {
    phrase="(" + newRequirePartialWordsSearchPhrase(name) + " \""+ name+ "\"^1000)";
  }
 else {
    phrase="\"" + LuceneQuery.escapeQuery(name) + "\"";
  }
  StringBuilder query=new StringBuilder();
  query.append(" +name:").append(phrase);
  query.append(" +locale:(");
  for (  Locale locale : locales) {
    query.append(locale.getLanguage()).append("* ");
    if (!StringUtils.isBlank(locale.getCountry())) {
      query.append(locale).append("^2");
    }
  }
  query.append(")");
  query.append(" +voided:false");
  return query.toString();
}
