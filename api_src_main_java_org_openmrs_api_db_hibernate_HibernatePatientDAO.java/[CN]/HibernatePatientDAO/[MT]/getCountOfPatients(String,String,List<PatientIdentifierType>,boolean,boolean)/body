{
  Criteria criteria=sessionFactory.getCurrentSession().createCriteria(Patient.class);
  criteria=new PatientSearchCriteria(sessionFactory,criteria).prepareCriteria(name,identifier,identifierTypes,matchIdentifierExactly,false,searchOnNamesOrIdentifiers);
  criteria.setProjection(Projections.countDistinct("patientId"));
  return (Long)criteria.uniqueResult();
}
