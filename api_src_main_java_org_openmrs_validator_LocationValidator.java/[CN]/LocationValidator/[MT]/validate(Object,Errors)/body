{
  Location location=(Location)obj;
  if (location == null) {
    errors.rejectValue("location","error.general");
  }
 else {
    ValidationUtils.rejectIfEmptyOrWhitespace(errors,"name","error.name");
    if (location.isRetired()) {
      if (!StringUtils.hasLength(location.getRetireReason())) {
        location.setRetired(false);
        errors.rejectValue("retireReason","error.null");
      }
    }
    Location root=location;
    while (root.getParentLocation() != null) {
      root=root.getParentLocation();
      if (root.equals(location)) {
        errors.rejectValue("parentLocation","Location.parentLocation.error");
        break;
      }
    }
  }
  super.validateAttributes(location,errors,Context.getLocationService().getAllLocationAttributeTypes());
}
