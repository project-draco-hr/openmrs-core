{
  List<HL7InArchive> hl7s=Context.getHL7Service().getHL7InArchiveBatch(iDisplayStart,iDisplayLength,HL7Constants.HL7_STATUS_PROCESSED,sSearch);
  List<Object> results=new ArrayList<Object>();
  for (  HL7InArchive hl7 : hl7s)   results.add(splitHL7InArchive(hl7));
  Map<String,Object> response=new HashMap<String,Object>();
  response.put("iTotalRecords",Context.getHL7Service().countHL7InArchive(HL7Constants.HL7_STATUS_PROCESSED,null));
  response.put("iTotalDisplayRecords",Context.getHL7Service().countHL7InArchive(HL7Constants.HL7_STATUS_PROCESSED,sSearch));
  response.put("sEcho",sEcho);
  response.put("aaData",results.toArray());
  return response;
}
