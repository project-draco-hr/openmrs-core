{
  Person p=new Person();
  assertNotNull(p.getAddresses());
  PersonAddress pa1=new PersonAddress();
  pa1.setAddress1("firsttest");
  pa1.setAddress2("firsttest2");
  pa1.setDateCreated(new Date());
  pa1.setVoided(false);
  p.addAddress(pa1);
  assertTrue("There should be 1 address in the person object but there is actually : " + p.getAddresses().size(),p.getAddresses().size() == 1);
  p.addAddress(pa1);
  assertTrue("There should be 1 address in the person object but there is actually : " + p.getAddresses().size(),p.getAddresses().size() == 1);
  PersonAddress pa2=new PersonAddress();
  pa2.setAddress1("secondtest");
  pa2.setAddress2("secondtest2");
  pa2.setVoided(false);
  p.addAddress(pa2);
  assertTrue("There should be 2 addresses in the person object but there is actually : " + p.getAddresses().size(),p.getAddresses().size() == 2);
  PersonAddress pa3=new PersonAddress();
  pa3.setAddress1(pa1.getAddress1());
  pa3.setAddress2(pa1.getAddress2());
  pa3.setDateCreated(pa1.getDateCreated());
  pa3.setVoided(false);
  p.addAddress(pa3);
  assertTrue("There should be 2 addresses in the person object but there is actually : " + p.getAddresses().size(),p.getAddresses().size() == 2);
  pa3.setVoided(true);
  p.addAddress(pa3);
  assertTrue("There should be 3 addresses in the person object but there is actually : " + p.getAddresses().size(),p.getAddresses().size() == 3);
  p.removeAddress(pa3);
  assertTrue("There should be only 2 address in the person object now",p.getAddresses().size() == 2);
  pa3.setDateCreated(new Date(pa1.getDateCreated().getTime() + 1));
  p.addAddress(pa3);
  assertTrue("There should be 3 addresses in the person object but there is actually : " + p.getAddresses().size(),p.getAddresses().size() == 3);
  p.removeAddress(pa3);
  assertTrue("There should be only 2 address in the person object now",p.getAddresses().size() == 2);
  p.removeAddress(pa2);
  assertTrue("There should be only 1 address in the person object now",p.getAddresses().size() == 1);
  p.removeAddress(pa2);
  assertTrue("There should still be only 1 address in the person object now",p.getAddresses().size() == 1);
  p.removeAddress(pa1);
  assertTrue("There shouldn't be any addresses in the person object now",p.getAddresses().size() == 0);
}
