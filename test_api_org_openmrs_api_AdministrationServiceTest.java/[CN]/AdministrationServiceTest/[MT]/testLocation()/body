{
  Location location=new Location();
  location.setName("testing");
  location.setDescription("desc");
  location.setAddress1("123");
  location.setAddress1("456");
  location.setCityVillage("city");
  location.setStateProvince("state");
  location.setCountry("country");
  location.setPostalCode("post");
  location.setLatitude("lat");
  location.setLongitude("lon");
  as.createLocation(location);
  Location newLocation=encounterService.getLocation(location.getLocationId());
  assertNotNull(newLocation);
  List<Location> locations=encounterService.getLocations();
  assertNotNull(locations);
  boolean found=false;
  for (Iterator i=locations.iterator(); i.hasNext(); ) {
    Location location2=(Location)i.next();
    assertNotNull(location);
    assertTrue(location.equals(location2) == (location.getLocationId().equals(location2.getLocationId())));
    if (location.equals(location2))     found=true;
  }
  assertTrue(found);
  newLocation.setName("another test");
  as.updateLocation(newLocation);
  Location newerLocation=encounterService.getLocation(newLocation.getLocationId());
  assertTrue(newerLocation.getName().equals(newLocation.getName()));
  as.deleteLocation(newLocation);
  assertNull(encounterService.getLocation(newLocation.getLocationId()));
  shutdown();
}
