{
  Log log=LogFactory.getLog(Listener.class);
  String path=servletContext.getRealPath("");
  path+=File.separator + "WEB-INF" + File.separator+ "coreModules";
  File folder=new File(path);
  if (!folder.exists()) {
    log.warn("Core module repository doesn't exist: " + folder.getAbsolutePath());
    return;
  }
  if (!folder.isDirectory()) {
    log.warn("Core module repository isn't a directory: " + folder.getAbsolutePath());
    return;
  }
  boolean aModuleLoaded=false;
  for (  File f : folder.listFiles()) {
    if (!f.getName().startsWith(".")) {
      try {
        Module mod=ModuleFactory.loadModule(f,false);
        aModuleLoaded=true;
        log.debug("Loaded module: " + mod + " successfully");
      }
 catch (      Throwable t) {
        log.warn("Error while trying to load module " + f.getName() + "",t);
      }
    }
  }
  if (aModuleLoaded)   ModuleFactory.startModules();
}
