{
  HttpSession httpSession=request.getSession();
  String view=getFormView();
  TaskConfig task=(TaskConfig)command;
  task.setStartTimePattern(DEFAULT_DATE_PATTERN);
  log.info("task started? " + task.getStarted());
  Context.getSchedulerService().updateTask(task);
  view=getSuccessView();
  Object[] args=new Object[]{task.getName()};
  String success=getMessageSourceAccessor().getMessage("Scheduler.taskForm.saved",args);
  httpSession.setAttribute(WebConstants.OPENMRS_MSG_ATTR,success);
  return new ModelAndView(new RedirectView(view));
}
