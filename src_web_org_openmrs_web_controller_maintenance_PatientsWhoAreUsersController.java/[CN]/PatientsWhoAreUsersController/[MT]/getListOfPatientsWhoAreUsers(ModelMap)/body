{
  String sql="select u.username, p.patient_id, p.identifier " + " from patient_identifier p inner join users u on p.patient_id = u.user_id " + " order by u.username asc ";
  List<List<Object>> data=Context.getAdministrationService().executeSQL(sql,true);
  Map<String,List<String>> usersWhoArePatients=new HashMap<String,List<String>>();
  for (  List<Object> row : data) {
    String username=row.get(0).toString();
    String identifier=row.get(2).toString();
    List<String> holder=usersWhoArePatients.get(username);
    if (holder == null) {
      holder=new ArrayList<String>();
      usersWhoArePatients.put(username,holder);
    }
    holder.add(identifier);
  }
  model.put("usernameToPatientIdentifiers",usersWhoArePatients);
}
