{
  Person p=new Person();
  assertNotNull(p.getAttributes());
  PersonAttribute pa1=new PersonAttribute();
  pa1.setValue("firsttest");
  pa1.setAttributeType(new PersonAttributeType(1));
  pa1.setDateCreated(new Date());
  pa1.setVoided(false);
  p.addAttribute(pa1);
  assertTrue("There should be 1 attribute in the person object but there is actually : " + p.getAttributes().size(),p.getAttributes().size() == 1);
  p.addAttribute(pa1);
  assertTrue("There should be 1 attribute in the person object but there is actually : " + p.getAttributes().size(),p.getAttributes().size() == 1);
  PersonAttribute pa2=new PersonAttribute();
  pa2.setValue("secondtest");
  pa2.setAttributeType(new PersonAttributeType(2));
  pa2.setVoided(false);
  p.addAttribute(pa2);
  assertTrue("There should be 2 attributes in the person object but there is actually : " + p.getAttributes().size(),p.getAttributes().size() == 2);
  PersonAttribute pa3=new PersonAttribute();
  pa3.setValue(pa1.getValue());
  pa3.setAttributeType(pa1.getAttributeType());
  pa3.setDateCreated(pa1.getDateCreated());
  pa3.setVoided(false);
  p.addAttribute(pa3);
  assertTrue("There should be 2 attributes in the person object but there is actually : " + p.getAttributes().size(),p.getAttributes().size() == 2);
  pa3.setValue(pa1.getValue() + "addition to make sure the value is different");
  pa3.setVoided(true);
  p.addAttribute(pa3);
  assertTrue("There should be 3 attributes in the person object but there is actually : " + p.getAttributes().size(),p.getAttributes().size() == 3);
  p.removeAttribute(pa3);
  assertTrue("There should be only 2 attribute in the person object now",p.getAttributes().size() == 2);
  pa3.setDateCreated(new Date(pa1.getDateCreated().getTime() + 1));
  p.addAttribute(pa3);
  assertTrue("There should be 3 attributes in the person object but there is actually : " + p.getAttributes().size(),p.getAttributes().size() == 3);
  p.removeAttribute(pa3);
  assertTrue("There should be only 2 attribute in the person object now",p.getAttributes().size() == 2);
  p.removeAttribute(pa2);
  assertTrue("There should be only 1 attribute in the person object now",p.getAttributes().size() == 1);
  p.removeAttribute(pa2);
  assertTrue("There should still be only 1 attribute in the person object now",p.getAttributes().size() == 1);
  p.removeAttribute(pa1);
  assertTrue("There shouldn't be any attributes in the person object now",p.getAttributes().size() == 0);
}
