{
  File file=FormEntryUtil.findFile(dir,filename);
  FileInputStream inputStream=new FileInputStream(file);
  byte[] b=new byte[inputStream.available()];
  inputStream.read(b);
  inputStream.close();
  String fileContent=new String(b);
  for (  String variableName : vars.keySet()) {
    String regexp="var\\s" + variableName + "\\s=[^\n]*;";
    String rplcmnt="var " + variableName + " = \""+ vars.get(variableName)+ "\";";
    log.debug("replacing regexp: " + regexp + " with "+ rplcmnt);
    fileContent=fileContent.replaceAll(regexp,rplcmnt);
  }
  try {
    FileWriter out=new FileWriter(file);
    out.write(fileContent);
    out.close();
  }
 catch (  IOException e) {
    log.error("Could not write '" + filename + "'",e);
  }
}
