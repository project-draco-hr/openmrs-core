{
  TaskDefinition taskDefinition=null;
  try {
    Context.addProxyPrivilege(PrivilegeConstants.MANAGE_SCHEDULER);
    if (task.getTaskDefinition() != null) {
      SchedulerService schedulerService=Context.getSchedulerService();
      taskDefinition=task.getTaskDefinition();
      taskDefinition.setLastExecutionTime(new Date());
      schedulerService.saveTask(taskDefinition);
    }
 else {
      log.warn("Unable to save the last execution time for task. Task.taskDefinition is null in " + task.getClass());
    }
  }
 catch (  Exception e) {
    log.warn("Unable to save the last execution time for task ",e);
  }
 finally {
    Context.removeProxyPrivilege(PrivilegeConstants.MANAGE_SCHEDULER);
  }
}
