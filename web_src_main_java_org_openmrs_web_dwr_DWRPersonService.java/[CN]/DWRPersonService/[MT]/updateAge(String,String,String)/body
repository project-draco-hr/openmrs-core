{
  SimpleDateFormat df=new SimpleDateFormat();
  if (!"".equals(dateformat)) {
    dateformat=dateformat.toLowerCase().replaceAll("m","M");
  }
 else {
    dateformat=new String("MM/dd/yyyy");
  }
  df.applyPattern(dateformat);
  Calendar cal=Calendar.getInstance();
  cal.clear(Calendar.HOUR);
  cal.clear(Calendar.MINUTE);
  cal.clear(Calendar.SECOND);
  cal.clear(Calendar.MILLISECOND);
  if ("".equals(birthdate)) {
    if ("".equals(age)) {
      return cal.getTime();
    }
    try {
      cal.add(Calendar.YEAR,-(Integer.parseInt(age)));
    }
 catch (    NumberFormatException nfe) {
    }
    return cal.getTime();
  }
 else {
    cal.setTime(df.parse(birthdate));
  }
  return cal.getTime();
}
