{
  executeDataSet(PATIENT_MERGE_XML);
  Patient preferredPatient=patientService.getPatient(10000);
  Patient nonPreferredPatient=patientService.getPatient(10001);
  patientService.mergePatients(preferredPatient,nonPreferredPatient);
  Set<PersonName> names=preferredPatient.getNames();
  assertThat(names,containsFullName("President John Fitzgerald Kennedy Esq."));
  assertThat(names,containsFullName("John Fitzgerald Kennedy"));
}
