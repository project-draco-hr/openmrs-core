{
  executeDataSet(ACTIVE_LIST_INITIAL_XML);
  Patient p=patientService.getPatient(2);
  List<Problem> problems=patientService.getProblems(p);
  assertEqualsInt(1,problems.size());
  Problem problem=new Problem();
  problem.setPerson(p);
  problem.setProblem(Context.getConceptService().getConcept(88));
  patientService.saveProblem(problem);
  problems=patientService.getProblems(p);
  Assert.assertNotNull(problems);
  assertEqualsInt(2,problems.size());
  problem=problems.get(1);
  assertEqualsInt(88,problem.getProblem().getConceptId());
  Assert.assertNotNull(problem.getPerson());
  Assert.assertNotNull(problem.getStartDate());
  assertThat(problem.getSortWeight(),is(2d));
}
