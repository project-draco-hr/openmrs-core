{
  if (d1 == null) {
    return d2 == null;
  }
 else   if (d2 == null) {
    return false;
  }
  return (d1 instanceof Date && d2 instanceof Date) ? compare((Date)d1,(Date)d2) == 0 : d1.equals(d2);
}
