{
  String voidReason=person.getVoidReason();
  if (voidReason == null)   voidReason="";
  for (  PersonName pn : person.getNames()) {
    if (voidReason.equals(pn.getVoidReason())) {
      pn.setVoided(false);
      pn.setVoidReason(null);
    }
  }
  for (  PersonAddress pa : person.getAddresses()) {
    if (voidReason.equals(pa.getVoidReason())) {
      pa.setVoided(false);
      pa.setVoidReason(null);
    }
  }
  person.setVoided(false);
  person.setVoidedBy(null);
  person.setDateVoided(null);
  person.setVoidReason(null);
  updatePerson(person);
  Context.getPatientService().unvoidPatient(Context.getPatientService().getPatient(person.getPersonId()));
  Context.getUserService().unvoidUser(Context.getUserService().getUser(person.getPersonId()));
}
