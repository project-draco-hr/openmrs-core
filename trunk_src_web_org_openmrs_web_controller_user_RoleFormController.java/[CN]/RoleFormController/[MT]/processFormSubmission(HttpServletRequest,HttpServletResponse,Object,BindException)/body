{
  Role role=(Role)obj;
  if (Context.isAuthenticated()) {
    log.debug("Editing Role: " + role.getRole());
    String[] inheritedRoles=request.getParameterValues("inheritedRoles");
    Set<Role> inheritedRoleObjs=new HashSet<Role>();
    if (inheritedRoles != null) {
      for (      String r : inheritedRoles) {
        Role tmprole=Context.getUserService().getRole(r);
        inheritedRoleObjs.add(tmprole);
      }
    }
    role.setInheritedRoles(inheritedRoleObjs);
  }
  return super.processFormSubmission(request,response,role,errors);
}
