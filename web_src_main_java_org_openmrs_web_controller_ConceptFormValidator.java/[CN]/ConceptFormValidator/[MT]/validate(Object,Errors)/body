{
  ConceptFormBackingObject backingObject=(ConceptFormBackingObject)obj;
  Set<String> localesWithErrors=new HashSet<String>();
  if (backingObject.getConcept() == null) {
    errors.rejectValue("concept","error.general");
  }
 else {
    for (int x=0; x < backingObject.getConceptMappings().size(); x++) {
      ConceptMap map=backingObject.getConceptMappings().get(x);
      if (map.getConceptReferenceTerm().getConceptReferenceTermId() == null)       continue;
      if (map.getConceptMapType() == null)       errors.rejectValue("conceptMappings[" + x + "].conceptMapType","Concept.map.typeRequired");
    }
    boolean foundAtLeastOneFullySpecifiedName=false;
    for (    Locale locale : backingObject.getLocales()) {
      for (int x=0; x < backingObject.getSynonymsByLocale().get(locale).size(); x++) {
        ConceptName synonym=backingObject.getSynonymsByLocale().get(locale).get(x);
        if (!synonym.isVoided() && synonym.getName() != null && synonym.getName().length() == 0) {
          errors.rejectValue("synonymsByLocale[" + locale + "]["+ x+ "].name","Concept.synonyms.textRequired");
          localesWithErrors.add(locale.getDisplayName());
        }
      }
      for (int x=0; x < backingObject.getIndexTermsByLocale().get(locale).size(); x++) {
        ConceptName indexTerm=backingObject.getIndexTermsByLocale().get(locale).get(x);
        if (!indexTerm.isVoided() && indexTerm.getName() != null && indexTerm.getName().length() == 0) {
          errors.rejectValue("indexTermsByLocale[" + locale + "]["+ x+ "].name","Concept.indexTerms.textRequired");
          localesWithErrors.add(locale.getDisplayName());
        }
      }
      if (StringUtils.isNotEmpty(backingObject.getNamesByLocale().get(locale).getName())) {
        foundAtLeastOneFullySpecifiedName=true;
      }
 else       if (backingObject.getNamesByLocale().get(locale).getConceptNameId() != null) {
        errors.rejectValue("namesByLocale[" + locale + "].name","Concept.fullySpecified.textRequired");
        localesWithErrors.add(locale.getDisplayName());
      }
    }
    if (!foundAtLeastOneFullySpecifiedName)     errors.reject("Concept.name.atLeastOneRequired");
  }
  if (errors.hasErrors() && localesWithErrors.size() > 0) {
    StringBuilder sb=new StringBuilder(Context.getMessageSourceService().getMessage("Concept.localesWithErrors"));
    sb.append(StringUtils.join(localesWithErrors,", "));
    errors.rejectValue("concept",sb.toString());
  }
}
