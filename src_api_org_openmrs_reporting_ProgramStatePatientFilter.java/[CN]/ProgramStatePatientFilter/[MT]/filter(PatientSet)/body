{
  PatientSetService service=Context.getPatientSetService();
  PatientSet ps=service.getPatientsByProgramAndState(program,stateList,fromDateHelper(),toDateHelper());
  return input == null ? ps : input.intersect(ps);
}
