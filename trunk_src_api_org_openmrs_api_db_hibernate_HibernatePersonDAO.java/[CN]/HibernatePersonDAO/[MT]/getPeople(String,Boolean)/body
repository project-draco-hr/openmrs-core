{
  name=name.replace(", "," ");
  String[] names=name.split(" ");
  Criteria criteria=sessionFactory.getCurrentSession().createCriteria(Person.class);
  criteria.createAlias("names","name");
  for (  String n : names) {
    if (n != null && n.length() > 0) {
      criteria.add(Expression.or(Expression.like("name.givenName",n,MatchMode.START),Expression.or(Expression.like("name.familyName",n,MatchMode.START),Expression.or(Expression.like("name.middleName",n,MatchMode.START),Expression.like("systemId",n,MatchMode.START)))));
    }
  }
  criteria.add(Expression.eq("personVoided",false));
  if (dead != null)   criteria.add(Expression.eq("dead",dead));
  criteria.addOrder(Order.asc("personId"));
  return criteria.list();
}
