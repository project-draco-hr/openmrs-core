{
  ConceptService cs=Context.getConceptService();
  ConceptSourceFormController controller=(ConceptSourceFormController)applicationContext.getBean("conceptSourceForm");
  MockHttpServletRequest mockRequest=new MockHttpServletRequest();
  mockRequest.setMethod("POST");
  mockRequest.setParameter("conceptSourceId","3");
  mockRequest.setParameter("retireReason","dummy reason for retirement");
  mockRequest.setParameter("retire","dummy reason for retirement");
  controller.handleRequest(mockRequest,new MockHttpServletResponse());
  ConceptSource conceptSource=cs.getConceptSource(3);
  Assert.assertTrue(conceptSource.isRetired());
  Assert.assertEquals("dummy reason for retirement",conceptSource.getRetireReason());
}
