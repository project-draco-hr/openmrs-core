{
  listener1.hasPrivileges.clear();
  listener1.lacksPrivileges.clear();
  listener2.hasPrivileges.clear();
  listener2.lacksPrivileges.clear();
  Concept concept=Context.getConceptService().getConcept(3);
  Assert.assertArrayEquals("listener 1 get concept",new String[]{"Get Concepts"},listener1.hasPrivileges.toArray());
  Assert.assertArrayEquals("listener 2 get concept",new String[]{"Get Concepts"},listener2.hasPrivileges.toArray());
  Assert.assertEquals(0,listener1.lacksPrivileges.size());
  Assert.assertEquals(0,listener2.lacksPrivileges.size());
  listener1.hasPrivileges.clear();
  listener2.hasPrivileges.clear();
  Context.getConceptService().saveConcept(concept);
  Assert.assertArrayEquals("listener 1 save concept: " + listener1.hasPrivileges.toString(),new String[]{"Manage Concepts","Get Concepts","Get Observations"},listener1.hasPrivileges.toArray());
  Assert.assertArrayEquals("listener 2 save concept: " + listener2.hasPrivileges.toString(),new String[]{"Manage Concepts","Get Concepts","Get Observations"},listener2.hasPrivileges.toArray());
  Assert.assertEquals(0,listener1.lacksPrivileges.size());
  Assert.assertEquals(0,listener2.lacksPrivileges.size());
}
