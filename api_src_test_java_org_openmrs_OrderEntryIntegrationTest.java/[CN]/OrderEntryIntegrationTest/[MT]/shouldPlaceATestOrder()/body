{
  executeDataSet(ORDER_ENTRY_DATASET_XML);
  Patient patient=patientService.getPatient(7);
  CareSetting careSetting=orderService.getCareSetting(1);
  int activeTestOrderCount=orderService.getActiveOrders(patient,TestOrder.class,careSetting,null).size();
  TestOrder order=new TestOrder();
  order.setPatient(patient);
  order.setConcept(conceptService.getConcept(5497));
  order.setOrderer(providerService.getProvider(1));
  order.setCareSetting(careSetting);
  order.setStartDate(new Date());
  order.setClinicalHistory("Patient had a negative reaction to the test in the past");
  order.setFrequency(orderService.getOrderFrequency(3000));
  order.setSpecimenSource(conceptService.getConcept(1000));
  order.setNumberOfRepeats(3);
  orderService.saveOrder(order,null);
  List<TestOrder> activeOrders=orderService.getActiveOrders(patient,TestOrder.class,careSetting,null);
  assertEquals(++activeTestOrderCount,activeOrders.size());
  assertThat(activeOrders,hasItems(order));
}
