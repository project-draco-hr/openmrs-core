{
  Map<String,Object> refData=new HashMap<String,Object>();
  Map<Integer,String> conceptNames=new HashMap<Integer,String>();
  List<Order> orderList=(List<Order>)obj;
  for (  Order order : orderList) {
    Concept c=order.getConcept();
    String cName=c.getBestName(Context.getLocale()).getName();
    conceptNames.put(c.getConceptId(),cName);
  }
  refData.put("conceptNames",conceptNames);
  Integer patientId=ServletRequestUtils.getIntParameter(request,"patientId");
  Patient p=null;
  if (Context.isAuthenticated()) {
    if (patientId != null) {
      PatientService ps=Context.getPatientService();
      p=ps.getPatient(patientId);
      Set<PersonName> PersonNames=p.getNames();
      Iterator i=PersonNames.iterator();
      PersonName pm=(PersonName)i.next();
      refData.put("patient",p);
      refData.put("PersonName",pm);
    }
  }
  return refData;
}
