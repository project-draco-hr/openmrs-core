{
  if (ComplexObsHandler.URI_VIEW.equals(view)) {
    Locale locale=Context.getLocale();
    ComplexData cd=new ComplexData(obs.getValueAsString(locale),WebHandlerUtils.getHyperlink(obs,ComplexObsHandler.RAW_VIEW));
    obs.setComplexData(cd);
    return obs;
  }
  if (ComplexObsHandler.HTML_VIEW.equals(view)) {
    String mediaTag="";
    String mimeType=OpenmrsUtil.getFileMimeType(getComplexDataFile(obs));
    if (mimeType.contains("video")) {
      mediaTag="<video controls>" + "<source src=\"" + WebHandlerUtils.getHyperlink(obs,ComplexObsHandler.RAW_VIEW) + "\" type=\""+ mimeType+ "\"></video>";
    }
 else {
      mediaTag="<audio controls>" + "<source src=\"" + WebHandlerUtils.getHyperlink(obs,ComplexObsHandler.RAW_VIEW) + "\" type=\""+ mimeType+ "\"></audio>";
    }
    Locale locale=Context.getLocale();
    ComplexData cd=new ComplexData(obs.getValueAsString(locale),mediaTag);
    obs.setComplexData(cd);
    return obs;
  }
  return super.getObs(obs,view);
}
