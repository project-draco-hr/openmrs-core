{
  Map<Integer,List<Relationship>> patientIdRelationshipMap;
  if (relationshipMap.containsKey(relationshipTypeName)) {
    patientIdRelationshipMap=relationshipMap.get(relationshipTypeName);
  }
 else {
    RelationshipType relType=Context.getPersonService().findRelationshipType(relationshipTypeName);
    patientIdRelationshipMap=patientSetService.getRelationships(getPatientSetIfNotAllPatients(),relType);
    relationshipMap.put(relationshipTypeName,patientIdRelationshipMap);
  }
  return patientIdRelationshipMap.get(patientId);
}
