{
  if (Context.isAuthenticated()) {
    String propertyPrefix=(String)model.get("propertyPrefix");
    if (propertyPrefix == null) {
      propertyPrefix="";
      model.put("propertyPrefix",propertyPrefix);
    }
    String excludePrefix=(String)model.get("excludePrefix");
    if ("".equals(excludePrefix)) {
      excludePrefix=null;
      model.put("excludePrefix",excludePrefix);
    }
    List<GlobalProperty> properties=new ArrayList<GlobalProperty>();
    for (    GlobalProperty p : Context.getAdministrationService().getAllGlobalProperties()) {
      if (p.getProperty().startsWith(propertyPrefix) && (excludePrefix == null || !p.getProperty().startsWith(excludePrefix))) {
        properties.add(p);
      }
    }
    model.put("properties",properties);
    boolean showHeader=true;
    if ("false".equals(model.get("showHeader")))     showHeader=false;
    model.put("showHeader",showHeader);
  }
}
