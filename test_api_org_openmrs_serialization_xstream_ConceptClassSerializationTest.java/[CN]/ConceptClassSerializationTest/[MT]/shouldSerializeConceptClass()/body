{
  initializeInMemoryDatabase();
  executeDataSet("org/openmrs/serialization/include/ConceptClassSerializationTest.xml");
  authenticate();
  ConceptClass cc=Context.getConceptService().getConceptClass(4);
  SimpleDateFormat sdf=new SimpleDateFormat("yyyy-MM-dd HH:mm:ss z");
  String xmlOutput=Context.getSerializationService().serialize(cc,XStreamSerializer.class);
  XMLAssert.assertXpathEvaluatesTo("4","/conceptClass/conceptClassId",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("003d0731-92b2-102c-adee-6014420f8468","/conceptClass/@uuid",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("true","/conceptClass/@retired",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("Diagnosis","/conceptClass/name",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("Conclusion drawn through findings","/conceptClass/description",xmlOutput);
  XMLAssert.assertXpathExists("/conceptClass/creator",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo(sdf.format(cc.getDateCreated()),"/conceptClass/dateCreated",xmlOutput);
  XMLAssert.assertXpathExists("/conceptClass/retiredBy",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo(sdf.format(cc.getDateRetired()),"/conceptClass/dateRetired",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("we don't want to use it","/conceptClass/retireReason",xmlOutput);
}
