{
  Patient patient=Context.getPatientService().getPatient(2);
  PersonAddress personAddress=patient.getPersonAddress();
  MockHttpServletRequest request=webTestHelper.newPOST("/admin/patients/shortPatientForm.form");
  request.setParameter("patientId","2");
  request.setParameter("personAddress.address1","new");
  request.setParameter("personAddress.countyDistrict","");
  webTestHelper.handle(request);
  patient=Context.getPatientService().getPatient(2);
  assertEquals(2,patient.getAddresses().size());
  for (  PersonAddress address : patient.getAddresses()) {
    if (address.getAddress1().equals("new")) {
      assertFalse(address.isVoided());
    }
 else {
      assertTrue(address.isVoided());
    }
  }
}
