{
  Person p=new Person();
  assertNotNull(p.getNames());
  PersonName pa1=new PersonName();
  pa1.setGivenName("firsttest");
  pa1.setFamilyName("firsttest2");
  pa1.setDateCreated(new Date());
  pa1.setVoided(false);
  p.addName(pa1);
  assertTrue("There should be 1 name in the person object but there is actually : " + p.getNames().size(),p.getNames().size() == 1);
  p.addName(pa1);
  assertTrue("There should be 1 name in the person object but there is actually : " + p.getNames().size(),p.getNames().size() == 1);
  PersonName pa2=new PersonName();
  pa2.setGivenName("secondtest");
  pa2.setFamilyName("secondtest2");
  pa2.setVoided(false);
  p.addName(pa2);
  assertTrue("There should be 2 names in the person object but there is actually : " + p.getNames().size(),p.getNames().size() == 2);
  PersonName pa3=new PersonName();
  pa3.setGivenName(pa1.getGivenName());
  pa3.setFamilyName(pa1.getFamilyName());
  pa3.setDateCreated(pa1.getDateCreated());
  pa3.setVoided(false);
  p.addName(pa3);
  assertTrue("There should be 2 names in the person object but there is actually : " + p.getNames().size(),p.getNames().size() == 2);
  pa3.setVoided(true);
  p.addName(pa3);
  assertTrue("There should be 3 names in the person object but there is actually : " + p.getNames().size(),p.getNames().size() == 3);
  p.removeName(pa3);
  assertTrue("There should be only 2 name in the person object now",p.getNames().size() == 2);
  pa3.setDateCreated(new Date(pa1.getDateCreated().getTime() + 1));
  p.addName(pa3);
  assertTrue("There should be 3 names in the person object but there is actually : " + p.getNames().size(),p.getNames().size() == 3);
  p.removeName(pa3);
  assertTrue("There should be only 2 name in the person object now",p.getNames().size() == 2);
  p.removeName(pa2);
  assertTrue("There should be only 1 name in the person object now",p.getNames().size() == 1);
  p.removeName(pa2);
  assertTrue("There should still be only 1 name in the person object now",p.getNames().size() == 1);
  p.removeName(pa1);
  assertTrue("There shouldn't be any names in the person object now",p.getNames().size() == 0);
}
