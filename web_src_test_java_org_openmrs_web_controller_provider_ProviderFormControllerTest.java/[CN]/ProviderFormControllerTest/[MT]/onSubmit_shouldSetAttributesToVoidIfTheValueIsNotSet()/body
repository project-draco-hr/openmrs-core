{
  executeDataSet(PROVIDERS_ATTRIBUTES_XML);
  Provider provider=Context.getProviderService().getProvider(1);
  ProviderAttributeType providerAttributeType=Context.getProviderService().getProviderAttributeType(1);
  providerAttributeType.setName("provider type");
  MockHttpServletRequest mockHttpServletRequest=new MockHttpServletRequest();
  mockHttpServletRequest.setParameter("attribute." + providerAttributeType.getId() + ".existing[1]","");
  BindException errors=new BindException(provider,"provider");
  ProviderFormController providerFormController=(ProviderFormController)applicationContext.getBean("providerFormController");
  providerFormController.onSubmit(mockHttpServletRequest,"save",null,null,null,provider,errors,createModelMap(providerAttributeType));
  Assert.assertEquals(1,provider.getAttributes().size());
  Assert.assertTrue(((ProviderAttribute)(provider.getAttributes().toArray()[0])).isVoided());
}
