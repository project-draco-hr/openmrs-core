{
  executeDataSet(PROVIDERS_ATTRIBUTES_XML);
  Provider provider=Context.getProviderService().getProvider(1);
  ProviderAttributeType providerAttributeType=Context.getProviderService().getProviderAttributeType(1);
  providerAttributeType.setName("provider joined date");
  MockHttpServletRequest mockHttpServletRequest=new MockHttpServletRequest();
  mockHttpServletRequest.setParameter("attribute." + providerAttributeType.getId(),"2011-04-25");
  ServletWebRequest mockWebRequest=new ServletWebRequest(mockHttpServletRequest);
  BindException errors=new BindException(provider,"provider");
  ProviderFormController providerFormController=(ProviderFormController)applicationContext.getBean("providerFormController");
  providerFormController.onSubmit(mockWebRequest,"save",null,null,true,provider,errors,createModelMap(providerAttributeType));
  Assert.assertFalse(((ProviderAttribute)(provider.getAttributes().toArray()[0])).getVoided());
  Assert.assertEquals(1,provider.getAttributes().size());
}
