{
  executeDataSet(PROVIDERS_ATTRIBUTES_XML);
  executeDataSet(PROVIDERS_XML);
  Provider provider=Context.getProviderService().getProvider(2);
  ProviderAttributeType providerAttributeType=Context.getProviderService().getProviderAttributeType(1);
  MockHttpServletRequest mockHttpServletRequest=new MockHttpServletRequest();
  BindException errors=new BindException(provider,"provider");
  ProviderFormController providerFormController=(ProviderFormController)applicationContext.getBean("providerFormController");
  providerFormController.onSubmit(mockHttpServletRequest,null,null,null,"purge",provider,errors,createModelMap(providerAttributeType));
  Context.flushSession();
  Assert.assertNull(Context.getProviderService().getProvider(2));
}
