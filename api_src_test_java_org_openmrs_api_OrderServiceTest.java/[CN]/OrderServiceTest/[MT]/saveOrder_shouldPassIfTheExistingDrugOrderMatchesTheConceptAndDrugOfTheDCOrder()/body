{
  final DrugOrder orderToDiscontinue=(DrugOrder)orderService.getOrder(5);
  assertTrue(OrderUtil.isOrderActive(orderToDiscontinue,null));
  DrugOrder order=new DrugOrder();
  order.setDrug(orderToDiscontinue.getDrug());
  order.setAction(Order.Action.DISCONTINUE);
  order.setOrderReasonNonCoded("Discontinue this");
  order.setPatient(orderToDiscontinue.getPatient());
  order.setConcept(orderToDiscontinue.getConcept());
  order.setOrderer(orderToDiscontinue.getOrderer());
  order.setCareSetting(orderToDiscontinue.getCareSetting());
  order.setStartDate(new Date());
  orderService.saveOrder(order,null);
  Assert.assertNotNull("previous order should be discontinued",orderToDiscontinue.getDateStopped());
}
