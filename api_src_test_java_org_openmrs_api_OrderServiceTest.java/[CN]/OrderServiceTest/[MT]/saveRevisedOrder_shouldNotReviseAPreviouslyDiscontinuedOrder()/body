{
  executeDataSet("org/openmrs/api/include/OrderServiceTest-reviseDiscontinuedOrders.xml");
  Order previousOrder=orderService.getOrder(16);
  DrugOrder order=(DrugOrder)previousOrder.cloneForRevision();
  order.setDose((double)200);
  order.setDateCreated(new Date());
  order.setAutoExpireDate(dateAfterDays(10));
  order.setPreviousOrder(previousOrder);
  expectedEx.expect(APIException.class);
  expectedEx.expectMessage("Cannot revise a discontinued order");
  orderService.saveRevisedOrder(order);
}
