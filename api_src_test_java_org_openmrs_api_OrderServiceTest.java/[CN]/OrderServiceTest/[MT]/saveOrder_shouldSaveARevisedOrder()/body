{
  Order originalOrder=orderService.getOrder(111);
  assertTrue(originalOrder.isCurrent());
  final Patient patient=originalOrder.getPatient();
  List<Order> originalActiveOrders=orderService.getActiveOrders(patient,null,null,null);
  final int originalOrderCount=originalActiveOrders.size();
  assertTrue(originalActiveOrders.contains(originalOrder));
  Order revisedOrder=originalOrder.cloneForRevision();
  revisedOrder.setInstructions("Take after a meal");
  revisedOrder.setStartDate(new Date());
  revisedOrder.setOrderer(providerService.getProvider(1));
  orderService.saveOrder(revisedOrder,null);
  List<Order> activeOrders=orderService.getActiveOrders(patient,null,null,null);
  assertEquals(originalOrderCount,activeOrders.size());
  assertFalse(originalOrder.isCurrent());
}
