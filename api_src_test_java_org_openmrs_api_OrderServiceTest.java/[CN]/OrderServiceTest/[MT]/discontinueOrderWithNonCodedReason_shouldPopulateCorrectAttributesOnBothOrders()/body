{
  Order order=orderService.getOrderByOrderNumber("111");
  Encounter encounter=encounterService.getEncounter(3);
  assertTrue(OrderUtil.isOrderActive(order,null));
  Date discontinueDate=new Date();
  String discontinueReasonNonCoded="Test if I can discontinue this";
  Order discontinueOrder=orderService.discontinueOrder(order,discontinueReasonNonCoded,discontinueDate,null,encounter);
  Assert.assertEquals(order.getDateStopped(),discontinueDate);
  Assert.assertNotNull(discontinueOrder);
  Assert.assertNotNull(discontinueOrder.getId());
  Assert.assertEquals(discontinueOrder.getAction(),Action.DISCONTINUE);
  Assert.assertEquals(discontinueOrder.getOrderReasonNonCoded(),discontinueReasonNonCoded);
  Assert.assertEquals(discontinueOrder.getPreviousOrder(),order);
}
