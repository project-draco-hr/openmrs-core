{
  Location loc1=es.getLocations().get(0);
  assertNotNull(loc1);
  EncounterType encType1=es.getEncounterTypes().get(0);
  assertNotNull(encType1);
  Date d1=new Date();
  Patient pat1=ps.getPatient(1);
  assertNotNull(pat1);
  User pro1=Context.getAuthenticatedUser();
  enc.setLocation(loc1);
  enc.setEncounterType(encType1);
  enc.setEncounterDatetime(d1);
  enc.setPatient(pat1);
  enc.setProvider(pro1);
  es.createEncounter(enc);
  Encounter newEnc=es.getEncounter(enc.getEncounterId());
  assertNotNull(newEnc);
  assertTrue(enc.equals(newEnc));
  Location loc2=es.getLocations().get(1);
  assertNotNull(loc2);
  EncounterType encType2=es.getEncounterTypes().get(1);
  assertNotNull(encType2);
  Date d2=new Date();
  Patient pat2=ps.getPatient(2);
  assertNotNull(pat2);
  enc.setLocation(loc2);
  enc.setEncounterType(encType2);
  enc.setEncounterDatetime(d2);
  enc.setPatient(pat2);
  Encounter newestEnc=es.getEncounter(newEnc.getEncounterId());
  assertFalse(loc1.equals(loc2));
  assertTrue(newestEnc.getLocation().equals(loc2));
  assertFalse(encType1.equals(encType2));
  assertTrue(newestEnc.getEncounterType().equals(encType2));
  assertFalse(d1.equals(d2));
  assertTrue(newestEnc.getEncounterDatetime().equals(d2));
  assertFalse(pat1.equals(pat2));
  assertTrue(newestEnc.getPatient().equals(pat2));
  es.deleteEncounter(newEnc);
  Encounter e=es.getEncounter(newEnc.getEncounterId());
  assertNull(e);
}
