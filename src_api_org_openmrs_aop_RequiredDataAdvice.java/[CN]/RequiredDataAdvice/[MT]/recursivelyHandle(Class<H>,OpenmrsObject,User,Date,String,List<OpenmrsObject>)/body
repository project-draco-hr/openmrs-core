{
  if (openmrsObject == null)   return;
  Class<? extends OpenmrsObject> openmrsObjectClass=openmrsObject.getClass();
  if (alreadyHandled == null) {
    alreadyHandled=new ArrayList<OpenmrsObject>();
  }
  List<H> handlers=HandlerUtil.getHandlersForType(handlerType,openmrsObjectClass);
  for (  H handler : handlers) {
    handler.handle(openmrsObject,currentUser,currentDate,other);
  }
  alreadyHandled.add(openmrsObject);
  List<Field> allInheritedFields=new ArrayList<Field>();
  getAllInheritedFields(openmrsObjectClass,allInheritedFields);
  for (  Field field : allInheritedFields) {
    if (isOpenmrsObjectCollection(field)) {
      Collection<OpenmrsObject> childCollection=getChildCollection(openmrsObject,field);
      if (childCollection != null) {
        for (        Object collectionElement : childCollection) {
          if (!alreadyHandled.contains(collectionElement)) {
            recursivelyHandle(handlerType,(OpenmrsObject)collectionElement,currentUser,currentDate,other,alreadyHandled);
          }
        }
      }
    }
  }
}
