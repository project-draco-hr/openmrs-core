{
  Vector userList=new Vector();
  try {
    String userId="Anonymous";
    if (Context.isAuthenticated()) {
      User us=Context.getAuthenticatedUser();
      userId=us.getUserId().toString();
    }
    log.info(userId + "|" + searchValue+ "|"+ roles.toString());
    if (roles == null)     roles=new Vector<String>();
    userList=new Vector();
    for (    User u : Context.getUserService().findUsers(searchValue,roles,includeVoided)) {
      userList.add(new UserListItem(u));
    }
  }
 catch (  Exception e) {
    log.error("Error while searching for users",e);
    userList.add("Error while attempting to find users - " + e.getMessage());
  }
  if (userList.size() == 0) {
    userList.add("No users found. Please search again.");
  }
  return userList;
}
