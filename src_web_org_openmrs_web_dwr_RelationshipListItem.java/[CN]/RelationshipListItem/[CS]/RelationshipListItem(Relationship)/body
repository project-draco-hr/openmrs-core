{
  relationshipId=r.getRelationshipId();
  aIsToB=r.getRelationshipType().getaIsToB();
  bIsToA=r.getRelationshipType().getbIsToA();
  Person p=r.getPersonA();
  personA=p.getPersonName().toString();
  personAId=p.getPersonId();
  try {
    Patient pat=Context.getPatientService().getPatient(p.getPersonId());
    personAType=pat != null ? "Patient" : "User";
  }
 catch (  Exception ex) {
    personAType="User";
  }
  p=r.getPersonB();
  personB=p.getPersonName().toString();
  personBId=p.getPersonId();
  try {
    Patient pat=Context.getPatientService().getPatient(p.getPersonId());
    personBType=pat != null ? "Patient" : "User";
  }
 catch (  Exception ex) {
    personAType="User";
  }
}
