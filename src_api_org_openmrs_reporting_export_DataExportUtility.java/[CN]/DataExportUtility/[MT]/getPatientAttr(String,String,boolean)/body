{
  String key=className + "." + property;
  if (returnAll)   key+="--all";
  Map<Integer,Object> patientIdAttrMap;
  if (attributeMap.containsKey(key)) {
    patientIdAttrMap=attributeMap.get(key);
  }
 else {
    patientIdAttrMap=context.getPatientSetService().getPatientAttributes(patientSet,className,property,returnAll);
    attributeMap.put(key,patientIdAttrMap);
  }
  return patientIdAttrMap.get(patientId);
}
