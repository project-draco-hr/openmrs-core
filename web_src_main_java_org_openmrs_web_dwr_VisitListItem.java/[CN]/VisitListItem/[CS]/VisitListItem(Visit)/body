{
  if (visit != null) {
    visitId=visit.getVisitId();
    visitType=visit.getVisitType().getName();
    startDatetime=visit.getStartDatetime();
    startDatetimeString=Format.format(visit.getStartDatetime());
    if (visit.getStopDatetime() != null) {
      startDatetime=visit.getStopDatetime();
      stopDatetimeString=Format.format(visit.getStopDatetime());
    }
    PersonName pn=visit.getPatient().getPersonName();
    if (pn != null) {
      personName="";
      if (pn.getGivenName() != null)       personName+=pn.getGivenName();
      if (pn.getMiddleName() != null)       personName+=" " + pn.getMiddleName();
      if (pn.getFamilyName() != null)       personName+=" " + pn.getFamilyName();
    }
    if (visit.getLocation() != null)     location=visit.getLocation().getName();
    if (visit.getIndication() != null && visit.getIndication().getName() != null)     indicationConcept=visit.getIndication().getName().getName();
    voided=visit.isVoided();
  }
}
