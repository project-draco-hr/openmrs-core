{
  List<Encounter> patientEncounters=new ArrayList<Encounter>();
  if (visit.getPatient() != null && visit.getPatient().getPatientId() != null)   patientEncounters=Context.getEncounterService().getEncountersByPatient(visit.getPatient());
  CollectionUtils.filter(patientEncounters,new Predicate(){
    @Override public boolean evaluate(    Object object){
      Encounter e=(Encounter)object;
      return e.getVisit() == null;
    }
  }
);
  return patientEncounters;
}
