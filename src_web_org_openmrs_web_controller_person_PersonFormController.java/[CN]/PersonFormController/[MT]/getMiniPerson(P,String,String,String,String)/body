{
  person.addName(Context.getPersonService().splitPersonName(name));
  person.setGender(gender);
  Date birthdate=null;
  boolean birthdateEstimated=false;
  if (date != null && !date.equals("")) {
    try {
      birthdate=DateFormat.getDateInstance(DateFormat.SHORT).parse("01/01/" + date);
      birthdateEstimated=true;
    }
 catch (    ParseException e) {
      log.debug("Error getting date from birthdate",e);
    }
  }
 else   if (age != null && !age.equals("")) {
    Calendar c=Calendar.getInstance();
    c.setTime(new Date());
    Integer d=c.get(Calendar.YEAR);
    d=d - Integer.parseInt(age);
    try {
      birthdate=DateFormat.getDateInstance(DateFormat.SHORT).parse("01/01/" + d);
      birthdateEstimated=true;
    }
 catch (    ParseException e) {
      log.debug("Error getting date from age",e);
    }
  }
  if (birthdate != null)   person.setBirthdate(birthdate);
  person.setBirthdateEstimated(birthdateEstimated);
}
