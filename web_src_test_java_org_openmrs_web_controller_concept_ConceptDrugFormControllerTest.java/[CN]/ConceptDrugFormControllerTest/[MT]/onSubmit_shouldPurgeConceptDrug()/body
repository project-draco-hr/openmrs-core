{
  executeDataSet("org/openmrs/api/include/ConceptServiceTest-drugSearch.xml");
  ConceptService service=Context.getConceptService();
  ConceptDrugFormController controller=(ConceptDrugFormController)applicationContext.getBean("conceptDrugForm");
  Integer drugId=new Integer(444);
  Drug drug=service.getDrug(drugId);
  org.junit.Assert.assertEquals(drugId,drug.getDrugId());
  MockHttpServletRequest mockHttpServletRequest=new MockHttpServletRequest();
  MockHttpServletResponse mockHttpServletResponse=new MockHttpServletResponse();
  BindException errors=new BindException(drug,"drug");
  mockHttpServletRequest.setParameter("purgeDrug",String.valueOf(drugId));
  controller.onSubmit(mockHttpServletRequest,mockHttpServletResponse,drug,errors);
  Context.flushSession();
  org.junit.Assert.assertNull(service.getDrug(drugId));
}
