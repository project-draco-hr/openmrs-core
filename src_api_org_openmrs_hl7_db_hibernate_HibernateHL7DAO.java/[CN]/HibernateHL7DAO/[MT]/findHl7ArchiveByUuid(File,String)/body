{
  if (log.isDebugEnabled())   log.debug("Searching in directory '" + directoryToSearch.getAbsolutePath() + "'");
  if (!StringUtils.isBlank(uuid) && directoryToSearch.isDirectory()) {
    final String searchUuid=uuid;
    File files[]=directoryToSearch.listFiles(new FileFilter(){
      @Override public boolean accept(      File file){
        return (checkIfArchiveFilenameIsValid(file) && file.getName().substring(0,file.getName().indexOf("_")).equalsIgnoreCase(searchUuid));
      }
    }
);
    if (files != null) {
      if (files.length == 1)       return files[0];
 else       if (files.length > 1)       throw new DAOException("Multiple hl7 archive files were found for uuid '" + uuid + "'");
    }
    File subDirectories[]=directoryToSearch.listFiles(new FileFilter(){
      @Override public boolean accept(      File file){
        return file.isDirectory();
      }
    }
);
    if (subDirectories != null) {
      if (subDirectories.length > 0) {
        for (        File subDir : subDirectories) {
          if (subDir.listFiles().length > 0) {
            File foundFile=findHl7ArchiveByUuid(subDir,uuid);
            if (foundFile != null)             return foundFile;
          }
        }
      }
    }
  }
  return null;
}
