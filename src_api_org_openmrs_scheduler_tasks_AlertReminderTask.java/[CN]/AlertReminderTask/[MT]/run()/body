{
  try {
    if (Context.isAuthenticated() == false)     authenticate();
    Collection<Alert> alerts=Context.getAlertService().getAllAlerts(false);
    Collection<User> users=new HashSet<User>();
    Message message=Context.getMessageService().create("Alert Reminder","You have unread alerts.");
    for (    Alert alert : alerts) {
      log.debug("Send email to alert recipient(s) ...");
      if (alert.isAlertRead() == false && alert.getRecipients() != null) {
        for (        AlertRecipient recipient : alert.getRecipients()) {
          if (recipient.isAlertRead() == false && recipient.getRecipient() != null)           users.add(recipient.getRecipient());
        }
      }
    }
    Context.getMessageService().send(message,users);
  }
 catch (  Exception e) {
    log.error(e);
    e.printStackTrace();
  }
}
