{
  Locale locale=Context.getLocale();
  StringBuffer ret=new StringBuffer();
  ret.append("Patients with ");
  if (atLeastCount != null || atMostCount != null) {
    if (atLeastCount != null)     ret.append("at least " + atLeastCount + " ");
    if (atMostCount != null)     ret.append("at most " + atMostCount + " ");
  }
 else {
    ret.append("any ");
  }
  if (encounterType != null)   ret.append(encounterType.getName() + " ");
  ret.append("encounters ");
  if (location != null) {
    ret.append("at " + location.getName() + " ");
  }
  if (withinLastMonths != null || withinLastDays != null) {
    ret.append("within the last ");
    if (withinLastMonths != null)     ret.append(withinLastMonths + " month(s) ");
    if (withinLastDays != null)     ret.append(withinLastDays + " day(s) ");
  }
  if (sinceDate != null)   ret.append("on or after " + sinceDate + " ");
  if (untilDate != null)   ret.append("on or before " + untilDate + " ");
  return ret.toString();
}
