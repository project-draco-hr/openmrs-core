{
  PatientSetService service=Context.getPatientSetService();
  PatientSet ps=service.getPatientsHavingEncounters(encounterTypeList,location,form,OpenmrsUtil.fromDateHelper(null,withinLastDays,withinLastMonths,untilDaysAgo,untilMonthsAgo,sinceDate,untilDate),OpenmrsUtil.toDateHelper(null,withinLastDays,withinLastMonths,untilDaysAgo,untilMonthsAgo,sinceDate,untilDate),atLeastCount,atMostCount);
  return input == null ? ps : input.intersect(ps);
}
