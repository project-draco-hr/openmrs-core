{
  PatientSetService service=Context.getPatientSetService();
  return input.intersect(service.getPatientsHavingEncounters(encounterType,location,OpenmrsUtil.fromDateHelper(null,withinLastDays,withinLastMonths,untilDaysAgo,untilMonthsAgo,sinceDate,untilDate),OpenmrsUtil.toDateHelper(null,withinLastDays,withinLastMonths,untilDaysAgo,untilMonthsAgo,sinceDate,untilDate),atLeastCount,atMostCount));
}
