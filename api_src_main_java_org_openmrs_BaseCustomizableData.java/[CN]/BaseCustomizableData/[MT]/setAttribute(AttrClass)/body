{
  if (getAttributes() == null)   setAttributes(new HashSet<AttrClass>());
  if (getActiveAttributes(attribute.getAttributeType()).size() == 1) {
    AttrClass existing=getActiveAttributes(attribute.getAttributeType()).get(0);
    if (existing.getSerializedValue().equals(attribute.getSerializedValue())) {
    }
 else {
      existing.setVoided(true);
      getAttributes().add(attribute);
      attribute.setOwner(this);
    }
  }
 else {
    for (    AttrClass existing : getActiveAttributes(attribute.getAttributeType()))     if (existing.getAttributeType().equals(attribute.getAttributeType()))     existing.setVoided(true);
    getAttributes().add(attribute);
    attribute.setOwner(this);
  }
}
