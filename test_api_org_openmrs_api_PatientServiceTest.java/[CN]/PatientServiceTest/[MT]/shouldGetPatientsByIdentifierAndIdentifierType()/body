{
  initializeInMemoryDatabase();
  executeDataSet(FIND_PATIENTS_XML);
  authenticate();
  List<PatientIdentifierType> types=new Vector<PatientIdentifierType>();
  types.add(new PatientIdentifierType(1));
  List<Patient> patients=patientService.getPatients(null,"1234",types);
  assertEquals(1,patients.size());
  patients=patientService.getPatients(null,"1234",null);
  assertEquals(1,patients.size());
  patients=patientService.getPatients(null,null,types);
  assertEquals(2,patients.size());
  patients=patientService.getPatients(null,"00000001234",null,false);
  assertEquals(1,patients.size());
}
