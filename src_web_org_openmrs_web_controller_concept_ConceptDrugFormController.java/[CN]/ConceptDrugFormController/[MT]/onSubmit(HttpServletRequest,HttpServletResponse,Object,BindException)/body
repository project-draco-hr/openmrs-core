{
  HttpSession httpSession=request.getSession();
  Context context=(Context)httpSession.getAttribute(WebConstants.OPENMRS_CONTEXT_HTTPSESSION_ATTR);
  String view=getFormView();
  if (context != null && context.isAuthenticated()) {
    Drug drug=(Drug)obj;
    drug.setConcept(context.getConceptService().getConcept(Integer.valueOf(request.getParameter("conceptId"))));
    context.getConceptService().updateDrug(drug);
    view=getSuccessView();
    httpSession.setAttribute(WebConstants.OPENMRS_MSG_ATTR,"ConceptDrug.saved");
  }
  return new ModelAndView(new RedirectView(view));
}
