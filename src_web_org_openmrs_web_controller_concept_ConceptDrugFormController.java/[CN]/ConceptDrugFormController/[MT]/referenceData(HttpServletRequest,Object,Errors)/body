{
  Drug drug=(Drug)obj;
  Map<String,Object> map=new HashMap<String,Object>();
  String defaultVerbose="false";
  if (Context.isAuthenticated()) {
    if (drug.getConcept() != null)     map.put("conceptName",drug.getConcept().getName(request.getLocale()));
    defaultVerbose=Context.getAuthenticatedUser().getUserProperty(OpenmrsConstants.USER_PROPERTY_SHOW_VERBOSE);
  }
  map.put("datePattern",dateFormat.toLocalizedPattern().toLowerCase());
  map.put("defaultVerbose",defaultVerbose.equals("true") ? true : false);
  String editReason=request.getParameter("editReason");
  if (editReason == null)   editReason="";
  map.put("editReason",editReason);
  return map;
}
