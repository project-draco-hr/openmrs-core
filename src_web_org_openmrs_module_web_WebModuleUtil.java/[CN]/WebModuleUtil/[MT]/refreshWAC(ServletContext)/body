{
  XmlWebApplicationContext wac=(XmlWebApplicationContext)WebApplicationContextUtils.getWebApplicationContext(servletContext);
  if (log.isDebugEnabled())   log.debug("Refreshing web applciation Context of class: " + wac.getClass().getName());
  XmlWebApplicationContext newAppContext=(XmlWebApplicationContext)ModuleUtil.refreshApplicationContext(wac);
  try {
    if (dispatcherServlet != null)     dispatcherServlet.reInitFrameworkServlet();
  }
 catch (  ServletException se) {
    log.warn("Caught a servlet exception while refreshing the dispatcher servlet",se);
  }
  try {
    if (dwrServlet != null)     dwrServlet.reInitServlet();
  }
 catch (  ServletException se) {
    log.warn("Cause a servlet exception while refreshing the dwr servlet",se);
  }
  return newAppContext;
}
