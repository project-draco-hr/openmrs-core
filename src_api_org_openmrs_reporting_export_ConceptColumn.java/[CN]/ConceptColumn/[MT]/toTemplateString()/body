{
  Concept concept=Context.getConceptService().getConcept(conceptId);
  String toReturn;
  if (!concept.isSet()) {
    toReturn=toSingleTemplateString(concept.getConceptId());
  }
 else {
    List<Concept> setMembers=Context.getConceptService().getConceptsByConceptSet(concept);
    toReturn="";
    boolean firstMember=true;
    for (    Concept setMember : setMembers) {
      if (firstMember) {
        toReturn+=toSingleTemplateString(setMember.getConceptId());
        firstMember=false;
      }
 else {
        toReturn+="$!{fn.getSeparator()}";
        toReturn+=toSingleTemplateString(setMember.getConceptId());
      }
    }
  }
  return toReturn;
}
