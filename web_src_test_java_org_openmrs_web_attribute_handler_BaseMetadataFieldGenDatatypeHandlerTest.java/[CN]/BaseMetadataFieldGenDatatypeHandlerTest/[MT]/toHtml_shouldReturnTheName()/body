{
  final String locationUuid="some uuid";
  final String locationName="some name";
  Location expectedLocation=new Location();
  expectedLocation.setName(locationName);
  MockLocationDatatype datatype=mock(MockLocationDatatype.class);
  when(datatype.deserialize(eq(locationUuid))).thenReturn(expectedLocation);
  when(datatype.getTextSummary(any(String.class))).thenCallRealMethod();
  when(datatype.doGetTextSummary(any(Location.class))).thenCallRealMethod();
  assertEquals(locationName,handler.toHtml(datatype,locationUuid));
}
