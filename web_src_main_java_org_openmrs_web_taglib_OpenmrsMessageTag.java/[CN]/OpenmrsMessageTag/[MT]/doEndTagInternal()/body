{
  try {
    String msg=resolveMessage();
    msg=isHtmlEscape() ? HtmlUtils.htmlEscape(msg) : msg;
    msg=this.javaScriptEscape ? JavaScriptUtils.javaScriptEscape(msg) : msg;
    String resolvedVar=this.var;
    if (resolvedVar != null) {
      pageContext.setAttribute(resolvedVar,msg,TagUtils.getScope(this.scope));
    }
 else {
      writeMessage(msg);
    }
    return EVAL_PAGE;
  }
 catch (  NoSuchMessageException ex) {
    throw new JspTagException(getNoSuchMessageExceptionDescription(ex));
  }
}
