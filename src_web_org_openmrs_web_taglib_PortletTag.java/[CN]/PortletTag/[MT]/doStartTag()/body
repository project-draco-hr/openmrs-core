{
  if (url == null)   url="";
  if (id == null)   id="";
  try {
    if (url.equals(""))     pageContext.getOut().print("Every portlet must be defined with a URI");
 else {
      if (!url.endsWith("portlet"))       url+=".portlet";
      url="/portlets/" + url;
      pageContext.getOut().print("<div class='portlet' id='" + id + "'>");
      pageContext.getRequest().setAttribute("org.openmrs.portlet.size",size);
      pageContext.getRequest().setAttribute("org.openmrs.portlet.parameters",Helper.parseParameterList(parameters));
    }
  }
 catch (  IOException e) {
    log.error("Error while starting portlet tag",e);
  }
  return super.doStartTag();
}
