{
  initializeInMemoryDatabase();
  executeDataSet("org/openmrs/serialization/include/ConceptComplexSerializationTest.xml");
  authenticate();
  ConceptComplex cc=Context.getConceptService().getConceptComplex(3);
  SimpleDateFormat sdf=new SimpleDateFormat("yyyy-MM-dd HH:mm:ss z");
  String xmlOutput=Context.getSerializationService().serialize(cc,XStreamSerializer.class);
  XMLAssert.assertXpathEvaluatesTo("0cbe2ed3-cd5f-4f46-9459-26127c9265ab","/conceptComplex/@uuid",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("3","/conceptComplex/conceptId",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("false","/conceptComplex/retired",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("4","/conceptComplex/datatype/conceptDatatypeId",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("3","/conceptComplex/conceptClass/conceptClassId",xmlOutput);
  XMLAssert.assertXpathExists("/conceptComplex/creator",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("false","/conceptComplex/set",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo(sdf.format(cc.getDateCreated()),"/conceptComplex/dateCreated",xmlOutput);
  XMLAssert.assertXpathExists("/conceptComplex/names/conceptName[conceptNameId=2456]",xmlOutput);
  XMLAssert.assertXpathExists("/conceptComplex/answers/conceptAnswer[conceptAnswerId=762]",xmlOutput);
  XMLAssert.assertXpathExists("/conceptComplex/conceptSets/conceptSet[conceptSetId=1]",xmlOutput);
  XMLAssert.assertXpathExists("/conceptComplex/descriptions/conceptDescription[conceptDescriptionId=9]",xmlOutput);
  XMLAssert.assertXpathExists("/conceptComplex/conceptMappings/conceptMap[conceptMapId=1]",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("test purpose","/conceptComplex/handler",xmlOutput);
}
