{
  if (!context.hasPrivilege(OpenmrsConstants.PRIV_EDIT_ENCOUNTERS))   throw new APIAuthenticationException("Privilege required: " + OpenmrsConstants.PRIV_EDIT_ENCOUNTERS);
  getEncounterDAO().updateEncounter(encounter);
  Patient p=encounter.getPatient();
  for (  Obs obs : daoContext.getObsDAO().getObservations(encounter)) {
    obs.setPatient(p);
    daoContext.getObsDAO().updateObs(obs);
  }
}
