{
  StringBuilder xmlBuilder=new StringBuilder();
  xmlBuilder.append("<role id=\"1\" uuid=\"00eb3992-92b2-102c-adee-6014420f8468\" retired=\"false\">\n");
  xmlBuilder.append("  <description>User who maintains clinical data stored within the OpenMRS repository.</description>\n");
  xmlBuilder.append("  <role>Data Manager</role>\n");
  xmlBuilder.append("  <privileges id=\"2\">\n");
  xmlBuilder.append("    <privilege id=\"3\" uuid=\"00e8c00e-92b2-102c-adee-6014420f8468\" retired=\"false\">\n");
  xmlBuilder.append("      <description>Able to add patients</description>\n");
  xmlBuilder.append("      <privilege>Add Patients</privilege>\n");
  xmlBuilder.append("    </privilege>\n");
  xmlBuilder.append("    <privilege id=\"4\" uuid=\"00e8bcbf-92b2-102c-adee-6014420f8468\" retired=\"false\">\n");
  xmlBuilder.append("      <description>Able to add patient observations</description>\n");
  xmlBuilder.append("      <privilege>Add Observations</privilege>\n");
  xmlBuilder.append("    </privilege>\n");
  xmlBuilder.append("    <privilege id=\"5\" uuid=\"00e8def6-92b2-102c-adee-6014420f8468\" retired=\"false\">\n");
  xmlBuilder.append("      <description>Able to delete patient observations</description>\n");
  xmlBuilder.append("      <privilege>Delete Observations</privilege>\n");
  xmlBuilder.append("    </privilege>\n");
  xmlBuilder.append("    <privilege id=\"6\" uuid=\"00e8e5ae-92b2-102c-adee-6014420f8468\" retired=\"false\">\n");
  xmlBuilder.append("      <description>Able to delete report objects</description>\n");
  xmlBuilder.append("      <privilege>Delete Report Objects</privilege>\n");
  xmlBuilder.append("    </privilege>\n");
  xmlBuilder.append("  </privileges>\n");
  xmlBuilder.append("  <inheritedRoles id=\"7\">\n");
  xmlBuilder.append("    <role id=\"8\" uuid=\"00eb389f-92b2-102c-adee-6014420f8468\" retired=\"false\">\n");
  xmlBuilder.append("      <description>Clerks who perform data entry.</description>\n");
  xmlBuilder.append("      <role>Data Assistant</role>\n");
  xmlBuilder.append("      <privileges id=\"9\">\n");
  xmlBuilder.append("        <privilege id=\"10\" uuid=\"00e8c0df-92b2-102c-adee-6014420f8468\" retired=\"false\">\n");
  xmlBuilder.append("          <description>Able to add person objects</description>\n");
  xmlBuilder.append("          <privilege>Add People</privilege>\n");
  xmlBuilder.append("        </privilege>\n");
  xmlBuilder.append("        <privilege reference=\"3\"/>\n");
  xmlBuilder.append("        <privilege id=\"11\" uuid=\"00e8d4fc-92b2-102c-adee-6014420f8468\" retired=\"false\">\n");
  xmlBuilder.append("          <description>Able to add relationships</description>\n");
  xmlBuilder.append("          <privilege>Add Relationships</privilege>\n");
  xmlBuilder.append("        </privilege>\n");
  xmlBuilder.append("      </privileges>\n");
  xmlBuilder.append("      <inheritedRoles id=\"12\"/>\n");
  xmlBuilder.append("    </role>\n");
  xmlBuilder.append("  </inheritedRoles>\n");
  xmlBuilder.append("</role>\n");
  Role role=Context.getSerializationService().deserialize(xmlBuilder.toString(),Role.class,XStreamSerializer.class);
  assertEquals("00eb3992-92b2-102c-adee-6014420f8468",role.getUuid());
  assertFalse("The retired shouldn't be " + role.getRetired(),role.getRetired());
  assertEquals("Data Manager",role.getRole());
  assertEquals("User who maintains clinical data stored within the OpenMRS repository.",role.getDescription());
  assertEquals(4,role.getPrivileges().size());
  assertEquals(1,role.getInheritedRoles().size());
}
