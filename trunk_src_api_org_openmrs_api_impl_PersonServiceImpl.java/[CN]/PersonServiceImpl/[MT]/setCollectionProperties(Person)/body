{
  if (person.getPersonCreator() == null) {
    person.setPersonCreator(Context.getAuthenticatedUser());
    person.setPersonDateCreated(new Date());
  }
 else {
    person.setPersonChangedBy(Context.getAuthenticatedUser());
    person.setPersonDateChanged(new Date());
  }
  if (person.getAddresses() != null && person.getAddresses().size() > 0)   for (  PersonAddress pAddress : person.getAddresses()) {
    if (pAddress.getDateCreated() == null) {
      pAddress.setDateCreated(new Date());
      pAddress.setCreator(Context.getAuthenticatedUser());
      pAddress.setPerson(person);
    }
  }
  if (person.getNames() != null && person.getNames().size() > 0)   for (  PersonName pName : person.getNames()) {
    if (pName.getDateCreated() == null) {
      pName.setDateCreated(new Date());
      pName.setCreator(Context.getAuthenticatedUser());
      pName.setPerson(person);
    }
  }
  if (person.getAttributes() != null && person.getAttributes().size() > 0)   for (  PersonAttribute pAttr : person.getAttributes()) {
    if (pAttr.getDateCreated() == null) {
      pAttr.setDateCreated(new Date());
      pAttr.setCreator(Context.getAuthenticatedUser());
      pAttr.setPerson(person);
    }
  }
}
