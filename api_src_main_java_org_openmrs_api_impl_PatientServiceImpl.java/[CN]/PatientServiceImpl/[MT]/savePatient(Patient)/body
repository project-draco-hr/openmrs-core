{
  if (patient.getPatientId() == null)   Context.requirePrivilege(PrivilegeConstants.ADD_PATIENTS);
 else   Context.requirePrivilege(PrivilegeConstants.EDIT_PATIENTS);
  if (!patient.isVoided()) {
    checkPatientIdentifiers(patient);
  }
  return dao.savePatient(patient);
}
