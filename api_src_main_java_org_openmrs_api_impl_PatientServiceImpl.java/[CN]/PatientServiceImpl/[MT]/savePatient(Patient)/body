{
  if (patient.getPatientId() == null)   Context.requirePrivilege(PrivilegeConstants.ADD_PATIENTS);
 else   Context.requirePrivilege(PrivilegeConstants.EDIT_PATIENTS);
  if (patient.isVoided()) {
    Context.requirePrivilege(PrivilegeConstants.DELETE_PATIENTS);
  }
  if (patient.getIdentifiers().size() == 1) {
    patient.getPatientIdentifier().setPreferred(true);
  }
  if (!patient.isVoided()) {
    checkPatientIdentifiers(patient);
  }
  return dao.savePatient(patient);
}
