{
  Integer next;
synchronized (orderNumberCounter) {
    if (orderNumberCounter < 0) {
      Integer temp=dao.getHighestOrderId();
      orderNumberCounter=temp == null ? 0 : temp;
    }
    orderNumberCounter+=1;
    next=orderNumberCounter;
  }
  return Context.getAdministrationService().getGlobalProperty(OpenmrsConstants.GP_ORDER_ENTRY_ORDER_NUMBER_PREFIX,OpenmrsConstants.ORDER_NUMBER_DEFAULT_PREFIX) + next;
}
