{
  if (order.getOrderId() == null && !StringUtils.hasText(order.getOrderNumber())) {
    order.setOrderNumber(getNewOrderNumber());
  }
  return dao.saveOrder(order);
}
