{
  if (order.getOrderId() == null) {
    setProperty(order,"orderNumber",getOrderNumberGenerator().getNewOrderNumber(orderContext));
    if (DISCONTINUE == order.getAction()) {
      setProperty(order,"dateStopped",order.getStartDate());
    }
  }
  return dao.saveOrder(order);
}
