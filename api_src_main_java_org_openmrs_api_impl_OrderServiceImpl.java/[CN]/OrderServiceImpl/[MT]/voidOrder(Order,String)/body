{
  if (order.getVoided())   return order;
  if (!StringUtils.hasLength(voidReason))   throw new IllegalArgumentException("voidReason cannot be empty or null");
  order.setVoided(Boolean.TRUE);
  order.setVoidReason(voidReason);
  order.setVoidedBy(Context.getAuthenticatedUser());
  if (order.getDateVoided() == null)   order.setDateVoided(new Date());
  return saveOrder(order);
}
