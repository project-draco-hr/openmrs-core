{
  CommandObject command=(CommandObject)commandObj;
  ValidationUtils.rejectIfEmptyOrWhitespace(errors,"name","error.null");
  ValidationUtils.rejectIfEmptyOrWhitespace(errors,"description","error.null");
  for (  Parameter p : command.getParameters()) {
    if (!StringUtils.hasText(p.getName()) || !StringUtils.hasText(p.getLabel()) || p.getClazz() == null)     errors.rejectValue("parameters",null,"All parameters must have a name, a label, and a datatype");
  }
  for (  CohortReportRow row : command.getRows()) {
    if (!StringUtils.hasText(row.getName()))     errors.rejectValue("rows",null,"Each row must have a name");
    try {
      CohortDefinition def=CohortUtil.parse(row.getQuery());
      if (def == null)       throw new Exception();
    }
 catch (    Exception ex) {
      errors.rejectValue("rows",null,"Failed to parse: " + row.getQuery() + " ("+ ex.getMessage()+ ")");
    }
  }
}
