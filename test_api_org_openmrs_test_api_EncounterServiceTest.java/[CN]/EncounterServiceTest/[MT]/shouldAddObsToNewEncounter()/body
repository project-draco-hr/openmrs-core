{
  EncounterService es=Context.getEncounterService();
  LocationService locationService=Context.getLocationService();
  Encounter enc=new Encounter();
  Location loc1=locationService.getAllLocations().get(0);
  assertNotNull("We need a location",loc1);
  EncounterType encType1=es.getAllEncounterTypes().get(0);
  assertNotNull("We need an encounter type",encType1);
  Date d1=new Date();
  Patient pat1=new Patient(3);
  User pro1=Context.getAuthenticatedUser();
  enc.setLocation(loc1);
  enc.setEncounterType(encType1);
  enc.setEncounterDatetime(d1);
  enc.setPatient(pat1);
  enc.setProvider(pro1);
  es.saveEncounter(enc);
  Obs newObs=new Obs();
  Concept concept=Context.getConceptService().getConcept(1);
  newObs.setConcept(concept);
  newObs.setValueNumeric(50d);
  enc.addObs(newObs);
  es.saveEncounter(enc);
}
