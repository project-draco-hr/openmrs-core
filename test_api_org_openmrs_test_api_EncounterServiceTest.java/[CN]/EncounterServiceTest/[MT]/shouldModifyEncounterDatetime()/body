{
  EncounterService es=Context.getEncounterService();
  Encounter enc=es.getEncounter(1);
  Obs o=new Obs();
  o.setConcept(new Concept(1));
  o.setCreator(Context.getAuthenticatedUser());
  o.setDateCreated(new Date());
  o.setPerson(enc.getPatient());
  o.setObsDatetime(enc.getEncounterDatetime());
  Date newDate=new Date();
  assertNotSame(enc.getEncounterDatetime(),newDate);
  enc.setEncounterDatetime(newDate);
  es.saveEncounter(enc);
  assertEquals(enc.getEncounterDatetime(),newDate);
  for (  Obs obs : enc.getAllObs()) {
    if (obs.getObsId().equals(3))     assertNotSame(newDate,obs.getObsDatetime());
 else     assertEquals(newDate,obs.getObsDatetime());
  }
}
