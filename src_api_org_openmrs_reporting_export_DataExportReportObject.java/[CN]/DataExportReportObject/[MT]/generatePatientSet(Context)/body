{
  PatientSetService pss=context.getPatientSetService();
  PatientSet patientSet=new PatientSet();
  for (  Integer p : patientIds)   patientSet.add(p);
  if (location != null && !location.equals(""))   patientSet=pss.getPatientsHavingLocation(getLocation());
 else   if (patientIds.size() == 0) {
    patientSet=context.getPatientSetService().getAllPatients();
  }
  return patientSet;
}
