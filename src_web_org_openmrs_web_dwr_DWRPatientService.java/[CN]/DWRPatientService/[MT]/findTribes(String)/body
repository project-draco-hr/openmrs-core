{
  HttpServletRequest request=WebContextFactory.get().getHttpServletRequest();
  Context context=(Context)WebContextFactory.get().getSession().getAttribute(WebConstants.OPENMRS_CONTEXT_HTTPSESSION_ATTR);
  Vector tribeList=new Vector();
  if (context == null) {
    tribeList.add("Your session has expired.");
    tribeList.add("Please <a href='" + request.getContextPath() + "/logout'>log in</a> again.");
  }
 else {
    try {
      tribeList.addAll(context.getFormEntryService().findTribes(search));
    }
 catch (    Exception e) {
      log.error(e);
      tribeList.add("Error while attempting to find tribe - " + e.getMessage());
    }
  }
  return tribeList;
}
