{
  ConceptProposal cp=new ConceptProposal();
  if (Context.isAuthenticated()) {
    ConceptService cs=Context.getConceptService();
    EncounterService es=Context.getEncounterService();
    String id=ServletRequestUtils.getStringParameter(request,"encounterId");
    if (id != null)     cp.setEncounter(es.getEncounter(Integer.valueOf(id)));
    id=ServletRequestUtils.getStringParameter(request,"obsConceptId");
    if (id != null)     cp.setObsConcept(cs.getConcept(Integer.valueOf(id)));
  }
  return cp;
}
