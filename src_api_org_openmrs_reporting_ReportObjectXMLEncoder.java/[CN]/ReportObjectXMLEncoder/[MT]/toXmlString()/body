{
  ByteArrayOutputStream arr=new ByteArrayOutputStream();
  XMLEncoder enc=new XMLEncoder(new BufferedOutputStream(arr));
  for (  Field f : this.objectToEncode.getClass().getDeclaredFields()) {
    if (f.getType().isEnum()) {
      try {
        enc.setPersistenceDelegate(f.getType(),new EnumDelegate());
      }
 catch (      Exception e) {
      }
    }
  }
  log.error("objectToEncode.type: " + objectToEncode.getClass());
  enc.writeObject(this.objectToEncode);
  enc.close();
  return arr.toString();
}
