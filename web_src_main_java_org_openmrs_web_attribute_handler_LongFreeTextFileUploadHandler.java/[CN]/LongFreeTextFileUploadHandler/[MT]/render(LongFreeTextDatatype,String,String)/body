{
  if (CustomDatatype.VIEW_DOWNLOAD.equals(view)) {
    return datatype.render(referenceString,view);
  }
  StringBuilder sb=new StringBuilder();
  sb.append("<a href=\"");
  sb.append("downloadCustomValue.form");
  sb.append("?handler=");
  sb.append(this.getClass().getName());
  sb.append("&datatype=");
  sb.append(LongFreeTextDatatype.class.getName());
  sb.append("&value=");
  sb.append(referenceString);
  sb.append("\">");
  sb.append(Context.getMessageSourceService().getMessage("general.download",null,Context.getLocale()));
  sb.append("</a>");
  return sb.toString();
}
