{
  StringBuilder sb=new StringBuilder();
  if (object != null) {
    printObject(sb,object);
  }
  if (conceptId != null) {
    concept=Context.getConceptService().getConcept(conceptId);
  }
  if (concept != null) {
    printConcept(sb,concept);
  }
  if (obsValue != null) {
    sb.append(obsValue.getValueAsString(Context.getLocale()));
  }
  if (userId != null) {
    user=Context.getUserService().getUser(userId);
  }
  if (user != null) {
    printUser(sb,user);
  }
  if (personId != null) {
    person=Context.getPersonService().getPerson(personId);
  }
  if (person != null) {
    printPerson(sb,person);
  }
  if (encounterId != null) {
    encounter=Context.getEncounterService().getEncounter(encounterId);
  }
  if (encounter != null) {
    printEncounter(sb,encounter);
  }
  if (encounterTypeId != null) {
    encounterType=Context.getEncounterService().getEncounterType(encounterTypeId);
  }
  if (encounterType != null) {
    printMetadata(sb,encounterType);
  }
  if (visitTypeId != null) {
    visitType=Context.getVisitService().getVisitType(visitTypeId);
  }
  if (visitType != null) {
    printMetadata(sb,visitType);
  }
  if (visitId != null) {
    visit=Context.getVisitService().getVisit(visitId);
  }
  if (visit != null) {
    printVisit(sb,visit);
  }
  if (locationId != null) {
    location=Context.getLocationService().getLocation(locationId);
  }
  if (location != null) {
    printMetadata(sb,location);
  }
  if (locationTagId != null) {
    locationTag=Context.getLocationService().getLocationTag(locationTagId);
  }
  if (locationTag != null) {
    printMetadata(sb,locationTag);
  }
  if (programId != null) {
    program=Context.getProgramWorkflowService().getProgram(programId);
  }
  if (program != null) {
    printProgram(sb,program);
  }
  if (providerId != null) {
    provider=Context.getProviderService().getProvider(providerId);
  }
  if (provider != null) {
    printProvider(sb,provider);
  }
  if (encounterProviders != null) {
    printEncounterProviders(sb,encounterProviders);
  }
  if (form != null) {
    printForm(sb,form);
  }
  if (singleCustomValue != null) {
    printSingleCustomValue(sb,singleCustomValue);
  }
  if (StringUtils.isNotEmpty(var)) {
    if (javaScriptEscape) {
      pageContext.setAttribute(var,JavaScriptUtils.javaScriptEscape(sb.toString()));
    }
 else {
      pageContext.setAttribute(var,sb.toString());
    }
  }
 else {
    try {
      if (javaScriptEscape) {
        pageContext.getOut().write(JavaScriptUtils.javaScriptEscape(sb.toString()));
      }
 else {
        pageContext.getOut().write(sb.toString());
      }
    }
 catch (    IOException e) {
      log.error("Failed to write to pageContext.getOut()",e);
    }
  }
  return SKIP_BODY;
}
