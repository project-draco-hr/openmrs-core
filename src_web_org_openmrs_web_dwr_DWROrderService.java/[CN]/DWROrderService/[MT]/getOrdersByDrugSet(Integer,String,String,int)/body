{
  Map<String,List<DrugOrder>> ret=null;
  if (patientId != null && drugSetIds != null) {
    Patient p=Context.getPatientService().getPatient(patientId);
    if (p != null) {
      List<DrugOrder> ordersToWorkWith=Context.getOrderService().getDrugOrdersByPatient(p,whatToShow);
      ret=Context.getOrderService().getDrugSetsByDrugSetIdList(ordersToWorkWith,drugSetIds,delimiter);
    }
  }
  return ret;
}
