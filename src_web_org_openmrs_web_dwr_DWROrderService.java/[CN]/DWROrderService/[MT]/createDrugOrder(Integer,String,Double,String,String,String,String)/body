{
  log.debug("PatientId is " + patientId + " and drugId is "+ drugId+ " and dose is "+ dose+ " and units are "+ units+ " and frequency is "+ frequency+ " and startDate is "+ startDate+ " and instructions are "+ instructions);
  boolean ret=true;
  DrugOrder drugOrder=new DrugOrder();
  Patient patient=Context.getPatientService().getPatient(patientId);
  Drug drug=Context.getConceptService().getDrugByNameOrId(drugId);
  drugOrder.setDrug(drug);
  Concept concept=drug.getConcept();
  drugOrder.setConcept(concept);
  drugOrder.setOrderType(new OrderType(new Integer(OpenmrsConstants.ORDERTYPE_DRUG)));
  drugOrder.setPatient(patient);
  drugOrder.setDose(dose);
  drugOrder.setUnits(units);
  drugOrder.setFrequency(frequency);
  drugOrder.setInstructions(instructions);
  Date dStartDate=null;
  if (startDate != null) {
    SimpleDateFormat sdf=OpenmrsUtil.getDateFormat();
    try {
      dStartDate=sdf.parse(startDate);
    }
 catch (    ParseException e) {
      dStartDate=null;
    }
  }
  drugOrder.setStartDate(dStartDate);
  drugOrder.setDateCreated(new Date());
  drugOrder.setVoided(new Boolean(false));
  Context.getOrderService().saveOrder(drugOrder);
  log.debug("Finished creating new drug order");
  return ret;
}
