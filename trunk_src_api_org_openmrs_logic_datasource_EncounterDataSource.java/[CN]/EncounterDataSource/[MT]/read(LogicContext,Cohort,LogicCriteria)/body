{
  Map<Integer,Result> finalResult=new HashMap<Integer,Result>();
  List<Encounter> encounters=getLogicEncounterDAO().getEncounters(patients,criteria);
  for (  Encounter encounter : encounters) {
    int personId=encounter.getPatient().getPatientId();
    Result result=finalResult.get(personId);
    if (result == null) {
      result=new Result();
      finalResult.put(personId,result);
    }
    result.add(new Result(encounter.getEncounterDatetime(),Datatype.DATETIME,false,null,encounter.getEncounterDatetime(),null,null));
  }
  return finalResult;
}
