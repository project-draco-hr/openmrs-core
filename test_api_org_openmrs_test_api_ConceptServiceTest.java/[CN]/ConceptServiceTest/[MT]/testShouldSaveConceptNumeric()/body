{
  executeDataSet(INITIAL_CONCEPTS_XML);
  ConceptService conceptService=Context.getConceptService();
  ConceptNumeric cn=new ConceptNumeric(1);
  cn.setDatatype(new ConceptDatatype(1));
  cn.addName(new ConceptName("a new conceptnumeric",null,"some description",Locale.US));
  cn.setHiAbsolute(20.0);
  conceptService.saveConcept(cn);
  Concept c2=new Concept(2);
  c2.addName(new ConceptName("not a numeric anymore",null,"some desc",Locale.US));
  c2.setDatatype(new ConceptDatatype(3));
  conceptService.saveConcept(c2);
  ConceptNumeric cn3=new ConceptNumeric(3);
  cn3.setDatatype(new ConceptDatatype(1));
  cn3.addName(new ConceptName("a brand new conceptnumeric",null,"desc",Locale.US));
  cn3.setHiAbsolute(50.0);
  conceptService.saveConcept(cn3);
  commitTransaction(true);
  Concept firstConcept=conceptService.getConcept(1);
  assertEquals("a new conceptnumeric",firstConcept.getName(Locale.US).getName());
  assertTrue(firstConcept instanceof ConceptNumeric);
  ConceptNumeric firstConceptNumeric=(ConceptNumeric)firstConcept;
  assertEquals(20.0,firstConceptNumeric.getHiAbsolute());
  Concept secondConcept=conceptService.getConcept(2);
  assertFalse(secondConcept.isNumeric());
  assertEquals("not a numeric anymore",secondConcept.getName(Locale.US).getName());
  Concept thirdConcept=conceptService.getConcept(3);
  assertTrue(thirdConcept instanceof ConceptNumeric);
  ConceptNumeric thirdConceptNumeric=(ConceptNumeric)thirdConcept;
  assertEquals("a brand new conceptnumeric",thirdConceptNumeric.getName(Locale.US).getName());
  assertEquals(50.0,thirdConceptNumeric.getHiAbsolute());
}
