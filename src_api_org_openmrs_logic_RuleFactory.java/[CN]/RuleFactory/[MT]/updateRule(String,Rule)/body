{
  if (!getRuleMap().containsKey(token))   throw new LogicException("Cannot update missing token \"" + token + "\"");
  getRuleMap().put(token,rule);
}
