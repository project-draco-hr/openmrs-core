{
  try {
    ConceptClass cc=Context.getConceptService().getConceptClassByName("Test");
    List<Concept> testConcepts=Context.getConceptService().getConceptsByClass(cc);
    for (    Concept c : testConcepts) {
      String name=c.getName().getName();
      ruleMap.put(name,new ReferenceRule("obs." + name));
    }
    cc=Context.getConceptService().getConceptClassByName("Finding");
    List<Concept> findingConcepts=Context.getConceptService().getConceptsByClass(cc);
    for (    Concept c : findingConcepts) {
      String name=c.getName().getName();
      ruleMap.put(name,new ReferenceRule("obs." + name));
    }
    cc=Context.getConceptService().getConceptClassByName("Question");
    List<Concept> questionConcepts=Context.getConceptService().getConceptsByClass(cc);
    for (    Concept c : questionConcepts) {
      String name=c.getName().getName();
      ruleMap.put(name,new ReferenceRule("obs." + name));
    }
    ruleMap.put("HIV POSITIVE",new HIVPositiveRule());
    ruleMap.put("GENDER",getRule("%%person.gender"));
    ruleMap.put("BIRTHDATE",getRule("%%person.birthdate"));
    ruleMap.put("BIRTHDATE ESTIMATED",getRule("%%person.birthdate estimated"));
    ruleMap.put("DEAD",getRule("%%person.dead"));
    ruleMap.put("DEATH DATE",getRule("%%person.death date"));
    ruleMap.put("CAUSE OF DEATH",getRule("%%person.cause of death"));
    ruleMap.put("AGE",new AgeRule());
  }
 catch (  LogicException e) {
    log.error("Error during RuleFactory initialization",e);
  }
}
