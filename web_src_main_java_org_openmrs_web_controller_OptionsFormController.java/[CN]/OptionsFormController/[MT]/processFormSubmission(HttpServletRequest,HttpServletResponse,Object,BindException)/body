{
  OptionsForm opts=(OptionsForm)object;
  if (!opts.getOldPassword().equals("")) {
    if (opts.getNewPassword().equals("")) {
      errors.rejectValue("newPassword","error.password.weak");
    }
 else     if (!opts.getNewPassword().equals(opts.getConfirmPassword())) {
      errors.rejectValue("newPassword","error.password.match");
      errors.rejectValue("confirmPassword","error.password.match");
    }
  }
  if (!opts.getSecretQuestionPassword().equals("")) {
    if (!opts.getSecretAnswerConfirm().equals(opts.getSecretAnswerNew())) {
      errors.rejectValue("secretAnswerNew","error.options.secretAnswer.match");
      errors.rejectValue("secretAnswerConfirm","error.options.secretAnswer.match");
    }
    if (opts.getSecretAnswerNew().isEmpty()) {
      errors.rejectValue("secretAnswerNew","error.options.secretAnswer.empty");
    }
    if (opts.getSecretQuestionNew().isEmpty()) {
      errors.rejectValue("secretQuestionNew","error.options.secretQuestion.empty");
    }
  }
  return super.processFormSubmission(request,response,object,errors);
}
