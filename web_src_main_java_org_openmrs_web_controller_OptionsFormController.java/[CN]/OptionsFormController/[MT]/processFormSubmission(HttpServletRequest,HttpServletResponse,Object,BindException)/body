{
  OptionsForm opts=(OptionsForm)object;
  if (!"".equals(opts.getOldPassword())) {
    if ("".equals(opts.getNewPassword())) {
      errors.rejectValue("newPassword","error.password.weak");
    }
 else     if (!opts.getNewPassword().equals(opts.getConfirmPassword())) {
      errors.rejectValue("newPassword","error.password.match");
      errors.rejectValue("confirmPassword","error.password.match");
    }
  }
  if ("".equals(opts.getSecretQuestionPassword()) && opts.getSecretAnswerNew().isEmpty() && !opts.getSecretQuestionNew().equals(opts.getSecretQuestionCopy())) {
    errors.rejectValue("secretQuestionPassword","error.password.incorrect");
  }
  if (!"".equals(opts.getSecretQuestionPassword())) {
    if (!opts.getSecretAnswerConfirm().equals(opts.getSecretAnswerNew())) {
      errors.rejectValue("secretAnswerNew","error.options.secretAnswer.match");
      errors.rejectValue("secretAnswerConfirm","error.options.secretAnswer.match");
    }
    if (opts.getSecretAnswerNew().isEmpty()) {
      errors.rejectValue("secretAnswerNew","error.options.secretAnswer.empty");
    }
    if (opts.getSecretQuestionNew().isEmpty()) {
      errors.rejectValue("secretQuestionNew","error.options.secretQuestion.empty");
    }
  }
  return super.processFormSubmission(request,response,object,errors);
}
