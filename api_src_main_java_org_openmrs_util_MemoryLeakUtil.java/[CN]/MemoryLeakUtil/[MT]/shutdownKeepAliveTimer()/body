{
  try {
    final Field kac=HttpClient.class.getDeclaredField("kac");
    if (kac == null) {
      return;
    }
    kac.setAccessible(true);
    final Field keepAliveTimer=sun.net.www.http.KeepAliveCache.class.getDeclaredField("keepAliveTimer");
    if (keepAliveTimer == null) {
      return;
    }
    keepAliveTimer.setAccessible(true);
    final Thread thread=(Thread)keepAliveTimer.get(kac.get(null));
    if (thread == null) {
      return;
    }
    if (thread.getContextClassLoader() == OpenmrsClassLoader.getInstance()) {
      thread.setContextClassLoader(ClassLoader.getSystemClassLoader());
    }
  }
 catch (  final Exception e) {
    log.error(e.getMessage(),e);
  }
}
