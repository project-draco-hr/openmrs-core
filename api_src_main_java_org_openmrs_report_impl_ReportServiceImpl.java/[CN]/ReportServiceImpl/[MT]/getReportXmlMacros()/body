{
  try {
    String macrosAsString=Context.getAdministrationService().getGlobalProperty(OpenmrsConstants.GLOBAL_PROPERTY_REPORT_XML_MACROS);
    Properties macros=new Properties();
    if (macrosAsString != null) {
      OpenmrsUtil.loadProperties(macros,new ByteArrayInputStream(macrosAsString.getBytes("UTF-8")));
    }
    return macros;
  }
 catch (  Exception ex) {
    throw new APIException(ex);
  }
}
