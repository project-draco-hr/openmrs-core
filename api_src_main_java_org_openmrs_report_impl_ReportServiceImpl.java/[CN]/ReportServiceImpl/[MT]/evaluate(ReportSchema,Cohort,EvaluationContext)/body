{
  ReportData ret=new ReportData();
  Map<String,DataSet> data=new HashMap<String,DataSet>();
  ret.setDataSets(data);
  ret.setReportSchema(reportSchema);
  ret.setEvaluationContext(evalContext);
  DataSetService dss=Context.getDataSetService();
  if (reportSchema.getDataSetDefinitions() != null)   for (  DataSetDefinition dataSetDefinition : reportSchema.getDataSetDefinitions()) {
    data.put(dataSetDefinition.getName(),dss.evaluate(dataSetDefinition,inputCohort,evalContext));
  }
  return ret;
}
