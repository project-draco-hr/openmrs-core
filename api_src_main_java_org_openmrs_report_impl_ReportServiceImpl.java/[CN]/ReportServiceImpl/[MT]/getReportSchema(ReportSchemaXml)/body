{
  ReportSchema reportSchema=null;
  if (reportSchemaXml == null || reportSchemaXml.getXml() == null || reportSchemaXml.getXml().length() == 0) {
    throw new APIException("ReportSchema.null.or.empty",(Object[])null);
  }
  Serializer deserializer=OpenmrsUtil.getSerializer();
  String expandedXml=applyReportXmlMacros(reportSchemaXml.getXml());
  try {
    reportSchema=deserializer.read(ReportSchema.class,expandedXml);
  }
 catch (  Exception e) {
    throw new APIException(e);
  }
  return reportSchema;
}
