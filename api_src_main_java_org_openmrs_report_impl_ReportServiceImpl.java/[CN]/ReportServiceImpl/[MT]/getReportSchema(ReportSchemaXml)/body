{
  ReportSchema reportSchema=null;
  if (reportSchemaXml == null || reportSchemaXml.getXml() == null || reportSchemaXml.getXml().length() == 0) {
    throw new APIException("The current serialized ReportSchema string named 'xml' is null or empty");
  }
  Serializer deserializer=OpenmrsUtil.getSerializer();
  String expandedXml=applyReportXmlMacros(reportSchemaXml.getXml());
  try {
    reportSchema=deserializer.read(ReportSchema.class,expandedXml);
  }
 catch (  Exception e) {
    throw new APIException(e);
  }
  return reportSchema;
}
