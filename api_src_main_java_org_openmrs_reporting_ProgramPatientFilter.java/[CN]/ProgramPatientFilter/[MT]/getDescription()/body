{
  MessageSourceService mss=Context.getMessageSourceService();
  if (!isReadyToRun()) {
    return "";
  }
  Locale locale=Context.getLocale();
  DateFormat df=DateFormat.getDateInstance(DateFormat.SHORT,locale);
  StringBuilder ret=new StringBuilder();
  ret.append(mss.getMessage("reporting.patientsIn")).append(" ");
  ret.append(getConceptName(program.getConcept()));
  if (onDate != null) {
    ret.append(" ").append(mss.getMessage("reporting.on",new Object[]{df.format(onDate)},locale));
  }
 else {
    if (fromDate != null) {
      ret.append(" ").append(mss.getMessage("reporting.anytimeAfter",new Object[]{df.format(fromDate)},locale));
    }
    if (toDate != null) {
      ret.append(" ").append(mss.getMessage("reporting.anytimeBefore",new Object[]{df.format(toDate)},locale));
    }
  }
  return ret.toString();
}
