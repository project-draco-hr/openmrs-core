{
  log.debug("about to save " + obj);
  HttpSession httpSession=request.getSession();
  String view=getFormView();
  if (Context.isAuthenticated()) {
    Program p=(Program)obj;
    try {
      Context.getProgramWorkflowService().saveProgram(p);
    }
 catch (    Exception e) {
      log.warn("Error saving Program",e);
      httpSession.setAttribute(WebConstants.OPENMRS_ERROR_ATTR,e.getMessage());
    }
    view=getSuccessView();
  }
  return new ModelAndView(new RedirectView(view));
}
