{
  log.debug("getConcept() == " + getConcept());
  if (getConcept() != null) {
    String abbrev=getConcept().getDatatype().getHl7Abbreviation();
    if (abbrev.equals("BIT")) {
      setValueNumeric(Boolean.valueOf(s) ? 1.0 : 0.0);
    }
 else     if (abbrev.equals("CWE")) {
      throw new RuntimeException("Not Yet Implemented");
    }
 else     if (abbrev.equals("NM") || abbrev.equals("SN")) {
      setValueNumeric(Double.valueOf(s));
    }
 else     if (abbrev.equals("DT") || abbrev.equals("TM") || abbrev.equals("TS")) {
      setValueDatetime(df.parse(s));
    }
 else     if (abbrev.equals("ST")) {
      setValueText(s);
    }
 else {
      throw new RuntimeException("Don't know how to handle " + abbrev);
    }
  }
 else {
    throw new RuntimeException("concept is null for " + this);
  }
}
