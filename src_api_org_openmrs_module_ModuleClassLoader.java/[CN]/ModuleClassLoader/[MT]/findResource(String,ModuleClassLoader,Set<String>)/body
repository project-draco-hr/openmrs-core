{
  if (log.isDebugEnabled()) {
    if (name != null && name.contains("starter")) {
      if (seenModules != null)       log.debug("seenModules.size: " + seenModules.size());
      log.debug("name: " + name);
      for (      URL url : getURLs()) {
        log.debug("url: " + url);
      }
    }
  }
  if ((seenModules != null) && seenModules.contains(getModule().getModuleId()))   return null;
  URL result=super.findResource(name);
  if (result != null) {
    if (isResourceVisible(name,result,requestor)) {
      return result;
    }
    log.debug("Resource is not visible");
    return null;
  }
  if (seenModules == null)   seenModules=new HashSet<String>();
  seenModules.add(getModule().getModuleId());
  for (int i=0; i < publicImports.length; i++) {
    if (seenModules.contains(publicImports[i].getModuleId())) {
      continue;
    }
    result=((ModuleClassLoader)ModuleFactory.getModuleClassLoader(publicImports[i])).findResource(name,requestor,seenModules);
    if (result != null) {
      break;
    }
  }
  if ((this == requestor) && (result == null)) {
    for (int i=0; i < privateImports.length; i++) {
      if (seenModules.contains(privateImports[i].getModuleId())) {
        continue;
      }
      result=((ModuleClassLoader)ModuleFactory.getModuleClassLoader(privateImports[i])).findResource(name,requestor,seenModules);
      if (result != null) {
        break;
      }
    }
  }
  if ((this == requestor) && (result == null)) {
    for (    Module reverseLookup : reverseLookups) {
      if (seenModules.contains(reverseLookup.getModuleId())) {
        continue;
      }
      result=((ModuleClassLoader)ModuleFactory.getModuleClassLoader(reverseLookup)).findResource(name,requestor,seenModules);
      if (result != null) {
        break;
      }
    }
  }
  return result;
}
