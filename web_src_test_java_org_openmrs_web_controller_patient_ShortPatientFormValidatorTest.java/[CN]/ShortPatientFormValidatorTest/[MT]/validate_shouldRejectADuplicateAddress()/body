{
  Patient patient=ps.getPatient(2);
  PersonAddress oldAddress=patient.getPersonAddress();
  Assert.assertEquals(1,patient.getAddresses().size());
  PersonAddress address=(PersonAddress)oldAddress.clone();
  address.setPersonAddressId(null);
  address.setUuid(null);
  address.setAddress1("address1");
  address.setAddress2("address2");
  patient.addAddress(address);
  Context.getPatientService().savePatient(patient);
  Assert.assertNotNull(address.getId());
  ShortPatientModel model=new ShortPatientModel(patient);
  Assert.assertEquals(oldAddress.getId(),model.getPersonAddress().getId());
  model.getPersonAddress().setAddress1("Address1");
  model.getPersonAddress().setAddress2("address2");
  Errors errors=new BindException(model,"patientModel");
  validator.validate(model,errors);
  Assert.assertEquals(true,errors.hasErrors());
}
