{
  PersonName pn=Context.getPersonService().getPersonNameByUuid("399e3a7b-6482-487d-94ce-c07bb3ca3cc7");
  assertTrue("The person attribute of PersonName should be a hibernate proxy generated by cglib",HibernateProxy.class.isAssignableFrom(pn.getPerson().getClass()));
  String xmlOutput=Context.getSerializationService().serialize(pn,XStreamSerializer.class);
  SimpleDateFormat sdf=new SimpleDateFormat("yyyy-MM-dd HH:mm:ss z");
  XMLAssert.assertXpathEvaluatesTo("da7f524f-27ce-4bb2-86d6-6d1d05312bd5","/personName/person/@uuid",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("2","/personName/person/personId",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("M","/personName/person/gender",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo(sdf.format(pn.getPerson().getBirthdate()),"/personName/person/birthdate",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("false","/personName/person/dead",xmlOutput);
  XMLAssert.assertXpathEvaluatesTo("false","/personName/person/@voided",xmlOutput);
}
