{
  User authUser=Context.getAuthenticatedUser();
  Date timestamp=new Date();
  if (c.getCreator() == null) {
    c.setCreator(authUser);
    if (c.getDateCreated() == null)     c.setDateCreated(timestamp);
  }
 else {
    c.setChangedBy(authUser);
    if (c.getDateChanged() == null)     c.setDateChanged(timestamp);
  }
  if (c.getNames() != null) {
    for (    ConceptName cn : c.getNames()) {
      if (cn.getCreator() == null) {
        cn.setCreator(authUser);
        if (cn.getDateCreated() == null)         cn.setDateCreated(timestamp);
      }
    }
  }
  for (  ConceptSynonym syn : c.getSynonyms()) {
    if (syn.getCreator() == null) {
      syn.setCreator(authUser);
      if (syn.getDateCreated() == null)       syn.setDateCreated(timestamp);
    }
    syn.setConcept(c);
  }
  if (c.getConceptSets() != null) {
    for (    ConceptSet set : c.getConceptSets()) {
      if (set.getCreator() == null) {
        set.setCreator(authUser);
        if (set.getDateCreated() == null)         set.setDateCreated(timestamp);
      }
      set.setConceptSet(c);
    }
  }
  if (c.getAnswers(true) != null) {
    for (    ConceptAnswer ca : c.getAnswers(true)) {
      if (ca.getCreator() == null) {
        ca.setCreator(authUser);
        if (ca.getDateCreated() == null)         ca.setDateCreated(timestamp);
      }
      ca.setConcept(c);
    }
  }
}
