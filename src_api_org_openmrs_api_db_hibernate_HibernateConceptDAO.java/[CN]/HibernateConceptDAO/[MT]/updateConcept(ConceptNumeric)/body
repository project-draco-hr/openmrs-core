{
  if (concept.getConceptId() == null)   createConcept(concept);
 else {
    modifyCollections(concept);
    try {
      sessionFactory.getCurrentSession().update(concept);
      sessionFactory.getCurrentSession().flush();
      log.error("after updating concept");
    }
 catch (    StaleObjectStateException sose) {
      log.error("after error");
      sessionFactory.getCurrentSession().clear();
      Query query=sessionFactory.getCurrentSession().createQuery("insert into ConceptNumeric (conceptId) select c.conceptId from Concept c where c.conceptId = :id)");
      query.setInteger("id",concept.getConceptId());
      query.executeUpdate();
      sessionFactory.getCurrentSession().merge(concept);
      log.error("after error after updating concept");
    }
    Context.getAdministrationService().updateConceptWord(concept);
  }
}
