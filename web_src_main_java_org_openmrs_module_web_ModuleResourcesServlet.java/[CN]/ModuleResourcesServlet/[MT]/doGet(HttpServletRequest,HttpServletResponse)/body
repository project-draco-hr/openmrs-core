{
  log.debug("In service method for module servlet: " + request.getPathInfo());
  File f=getFile(request);
  if (f == null)   response.setStatus(HttpServletResponse.SC_NOT_FOUND);
  try {
    Thread.sleep(10);
  }
 catch (  InterruptedException e) {
    e.printStackTrace();
  }
  if (f != null) {
    response.setDateHeader("Last-Modified",f.lastModified());
    response.setContentLength(new Long(f.length()).intValue());
    FileInputStream is=new FileInputStream(f);
    try {
      OpenmrsUtil.copyFile(is,response.getOutputStream());
    }
  finally {
      OpenmrsUtil.closeStream(is);
    }
  }
}
