{
  Vector<Object> personList=new Vector<Object>();
  roles=roles.trim();
  if (roles != null && roles.length() > 0) {
    UserService us=Context.getUserService();
    List<Role> roleList=new Vector<Role>();
    if (roles != null)     if (roles.length() > 0) {
      String[] splitRoles=roles.split(",");
      for (      String role : splitRoles) {
        roleList.add(new Role(role));
      }
    }
    for (    Person p : us.getUsers(searchPhrase,roleList,includeVoided)) {
      personList.add(new PersonListItem(p));
    }
  }
 else {
    PersonService ps=Context.getPersonService();
    for (    Person p : ps.getPeople(searchPhrase,null)) {
      personList.add(new PersonListItem(p));
    }
  }
  return personList;
}
