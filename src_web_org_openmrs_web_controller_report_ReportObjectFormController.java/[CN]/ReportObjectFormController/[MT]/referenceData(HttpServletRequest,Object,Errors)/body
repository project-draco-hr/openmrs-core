{
  Map addedData=new HashMap();
  ReportService rs=Context.getReportService();
  Set<String> availableTypes=rs.getReportObjectTypes();
  addedData.put("availableTypes",availableTypes.iterator());
  String selectedType=ServletRequestUtils.getStringParameter(request,"type","");
  if (selectedType.length() > 0) {
    Set<String> availableSubTypes=rs.getReportObjectSubTypes(selectedType);
    addedData.put("availableSubTypes",availableSubTypes.iterator());
  }
  Map extendedObjectInfo=new HashMap();
  for (  Field field : obj.getClass().getDeclaredFields()) {
    String fieldName=field.getName();
    Method m=obj.getClass().getMethod("get" + fieldName.substring(0,1).toUpperCase() + fieldName.substring(1),(Class[])null);
    Object fieldObj=m.invoke(obj,(Object[])null);
    extendedObjectInfo.put(fieldName,fieldObj);
  }
  addedData.put("extendedObjectInfo",extendedObjectInfo);
  return addedData;
}
