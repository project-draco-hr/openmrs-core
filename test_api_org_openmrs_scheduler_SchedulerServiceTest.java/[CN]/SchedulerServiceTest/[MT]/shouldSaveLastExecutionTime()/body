{
  final String NAME="Session Task";
  SchedulerService service=Context.getSchedulerService();
  TaskDefinition td=new TaskDefinition();
  td.setName(NAME);
  td.setStartOnStartup(false);
  td.setRepeatInterval(1L);
  td.setTaskClass(SessionTask.class.getName());
  Calendar startTime=Calendar.getInstance();
  startTime.add(Calendar.SECOND,1);
  td.setStartTime(startTime.getTime());
  service.saveTask(td);
  service.scheduleTask(td);
  Thread.sleep(2000);
  service.shutdownTask(td);
  td=service.getTaskByName(NAME);
  assertEquals("Last execution time in seconds is wrong",actualExecutionTime.longValue() / 1000,td.getLastExecutionTime().getTime() / 1000,1);
}
