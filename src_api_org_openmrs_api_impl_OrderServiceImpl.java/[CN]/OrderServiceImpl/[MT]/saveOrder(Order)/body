{
  if (order.getCreator() == null)   order.setCreator(Context.getAuthenticatedUser());
  if (order.getDateCreated() == null)   order.setDateCreated(new Date());
  if (order.getPatient() == null && order.getEncounter() != null)   order.setPatient(order.getEncounter().getPatient());
  return dao.saveOrder(order);
}
