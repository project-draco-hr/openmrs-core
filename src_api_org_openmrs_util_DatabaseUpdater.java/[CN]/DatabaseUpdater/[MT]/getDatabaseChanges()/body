{
  Database database=null;
  try {
    Liquibase liquibase=getLiquibase(CHANGE_LOG_FILE);
    database=liquibase.getDatabase();
    DatabaseChangeLog changeLog=new ChangeLogParser(new HashMap<String,Object>()).parse(CHANGE_LOG_FILE,liquibase.getFileOpener());
    List<ChangeSet> changeSets=changeLog.getChangeSets();
    List<OpenMRSChangeSet> results=new ArrayList<OpenMRSChangeSet>();
    for (    ChangeSet changeSet : changeSets) {
      OpenMRSChangeSet omrschangeset=new OpenMRSChangeSet();
      omrschangeset.setAuthor(changeSet.getAuthor());
      omrschangeset.setComments(changeSet.getComments());
      omrschangeset.setDescription(changeSet.getDescription());
      omrschangeset.setRunStatus(database.getRunStatus(changeSet));
      omrschangeset.setRanDate(database.getRanDate(changeSet));
      results.add(omrschangeset);
    }
    return results;
  }
  finally {
    try {
      if (database != null) {
        database.getConnection().close();
      }
    }
 catch (    Throwable t) {
    }
  }
}
