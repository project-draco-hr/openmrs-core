{
  Context.getAdministrationService().saveGlobalProperty(new GlobalProperty(OpenmrsConstants.GLOBAL_PROPERTY_LOCALE_ALLOWED_LIST,"en_GB, en_US, pl"));
  User user=Context.getAuthenticatedUser();
  user.setUserProperty(OpenmrsConstants.USER_PROPERTY_PROFICIENT_LOCALES,"en_GB, en_US, pl");
  Context.getUserService().saveUser(user);
  Concept answer1=Context.getConceptService().getConcept(7);
  answer1.addName(new ConceptName("TAK",new Locale("pl")));
  Context.getConceptService().saveConcept(answer1);
  Concept answer2=Context.getConceptService().getConcept(8);
  answer2.addName(new ConceptName("T",new Locale("en")));
  Context.getConceptService().saveConcept(answer2);
  Concept answer3=Context.getConceptService().getConcept(22);
  answer3.addName(new ConceptName("T",new Locale("es")));
  Context.getConceptService().saveConcept(answer3);
  updateSearchIndex();
  List<Object> findConceptAnswers=dwrConceptService.findConceptAnswers("T",21,false,true);
  Assert.assertEquals(2,findConceptAnswers.size());
  for (  Object findConceptAnswer : findConceptAnswers) {
    ConceptListItem answer=(ConceptListItem)findConceptAnswer;
    if (!answer.getConceptId().equals(7) && !answer.getConceptId().equals(8)) {
      Assert.fail("Should have found an answer with id 7 or 8");
    }
  }
}
