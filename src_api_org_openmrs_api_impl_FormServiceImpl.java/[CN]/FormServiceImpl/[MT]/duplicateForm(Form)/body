{
  for (  FormField formField : form.getFormFields()) {
    formField.setFormFieldId(null);
  }
  form.setFormFields(new HashSet<FormField>(form.getFormFields()));
  form.setFormId(null);
  form.setChangedBy(null);
  form.setDateChanged(null);
  form.setCreator(Context.getAuthenticatedUser());
  form.setDateCreated(new Date());
  Context.clearSession();
  Form newForm=dao.duplicateForm(form);
  return newForm;
}
