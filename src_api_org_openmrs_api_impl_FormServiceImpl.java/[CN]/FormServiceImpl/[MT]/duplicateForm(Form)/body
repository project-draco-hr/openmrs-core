{
  if (!Context.hasPrivilege(OpenmrsConstants.PRIV_ADD_FORMS))   throw new APIAuthenticationException("Privilege required: " + OpenmrsConstants.PRIV_ADD_FORMS);
  for (  FormField formField : form.getFormFields()) {
    formField.setFormFieldId(null);
  }
  form.setFormFields(new HashSet<FormField>(form.getFormFields()));
  form.setFormId(null);
  Context.clearSession();
  Form newForm=getFormDAO().duplicateForm(form);
  return newForm;
}
