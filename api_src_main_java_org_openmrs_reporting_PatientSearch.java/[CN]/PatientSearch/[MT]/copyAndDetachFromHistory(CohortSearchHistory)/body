{
  if (isComposition() && requiresHistory()) {
    PatientSearch copy=new PatientSearch();
    copy.setParsedComposition(copyAndDetachHelper(parsedComposition,history));
    return copy;
  }
 else   return this;
}
