{
  log.debug("Scheduling task " + taskId);
  Context context=(Context)WebContextFactory.get().getSession().getAttribute(WebConstants.OPENMRS_CONTEXT_HTTPSESSION_ATTR);
  try {
    Date formattedStartDate=new Date();
    try {
      log.debug("Start date = " + startDate + ", "+ startTime);
      java.text.DateFormat dateFormat=new java.text.SimpleDateFormat("MM/dd/yyyy hh:mm:ss");
      formattedStartDate=dateFormat.parse(startDate + " " + startTime);
      log.debug("Formatted start Date = " + formattedStartDate);
    }
 catch (    Exception e) {
      log.error(e);
    }
    log.debug("Creating new schedule object");
    Schedule schedule=new Schedule(name,description,formattedStartDate,repeatInterval);
    log.debug("Schedule: " + schedule);
    log.debug("Context: " + context);
    log.debug("Scheduler service: " + context.getSchedulerService());
  }
 catch (  Exception e) {
    log.error(e);
    e.printStackTrace();
  }
}
