{
  Context.clearSession();
  Vector<RelationshipListItem> ret=new Vector<RelationshipListItem>();
  List<Relationship> rels=Context.getPersonService().getRelationships(Context.getPersonService().getPerson(personId));
  for (  Relationship rel : rels) {
    if (!rel.isVoided() && (relationshipTypeId == null || rel.getRelationshipType().getRelationshipTypeId().equals(relationshipTypeId))) {
      ret.add(new RelationshipListItem(rel));
    }
  }
  return ret;
}
