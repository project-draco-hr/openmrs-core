{
  Object openmrsVersion=openmrsProfile.get("openmrsVersion");
  if (StringUtils.isNotBlank((String)openmrsVersion)) {
    if (!ModuleUtil.matchRequiredVersions(OpenmrsConstants.OPENMRS_VERSION_SHORT,(String)openmrsVersion)) {
      return false;
    }
  }
  String[] modules=(String[])openmrsProfile.get("modules");
  for (  String moduleAndVersion : modules) {
    String[] splitModuleAndVersion=moduleAndVersion.split(":");
    String moduleId=splitModuleAndVersion[0];
    String moduleVersion=splitModuleAndVersion[1];
    boolean moduleMatched=false;
    for (    Module module : ModuleFactory.getStartedModules()) {
      if (module.getModuleId().equals(moduleId)) {
        if (ModuleUtil.matchRequiredVersions(module.getVersion(),moduleVersion)) {
          moduleMatched=true;
          break;
        }
      }
    }
    if (!moduleMatched) {
      return false;
    }
  }
  return true;
}
