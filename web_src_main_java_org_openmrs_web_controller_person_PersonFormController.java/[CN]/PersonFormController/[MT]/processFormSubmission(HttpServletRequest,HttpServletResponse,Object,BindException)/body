{
  if (!Context.isAuthenticated()) {
    errors.reject("auth.invalid");
  }
  if (errors.hasErrors()) {
    return showForm(request,response,errors);
  }
  Person person=(Person)obj;
  MessageSourceAccessor msa=getMessageSourceAccessor();
  String action=request.getParameter("action");
  if (action.equals(msa.getMessage("Person.save"))) {
    updatePersonAddresses(request,person);
    updatePersonNames(request,person);
    updatePersonAttributes(request,errors,person);
  }
  if (errors.hasErrors()) {
    return showForm(request,response,errors);
  }
  return super.processFormSubmission(request,response,person,errors);
}
