{
  MockHttpServletRequest request=new MockHttpServletRequest("POST","");
  request.setParameter("programId","3");
  request.setParameter("allWorkflows",":3 4");
  ProgramFormController controller=(ProgramFormController)applicationContext.getBean("programForm");
  controller.handleRequest(request,new MockHttpServletResponse());
  Assert.assertEquals(2,Context.getProgramWorkflowService().getProgram(3).getWorkflows().size());
  request=new MockHttpServletRequest("POST","");
  request.setParameter("programId","3");
  request.setParameter("allWorkflows",":5");
  controller.handleRequest(request,new MockHttpServletResponse());
  Assert.assertEquals(1,Context.getProgramWorkflowService().getProgram(3).getWorkflows().size());
  Assert.assertEquals(5,Context.getProgramWorkflowService().getProgram(3).getWorkflows().iterator().next().getConcept().getConceptId().intValue());
}
