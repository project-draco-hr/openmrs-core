{
  User changeForUser=getUser(userIdToChange);
  if (changeForUser == null)   throw new DAOException("Couldn't find user to set password for userId=" + userIdToChange);
  User changedByUser=getUser(changedBy);
  LoginCredential credentials=new LoginCredential();
  credentials.setUserId(userIdToChange);
  credentials.setHashedPassword(newHashedPassword);
  credentials.setSalt(salt);
  credentials.setChangedBy(changedByUser);
  credentials.setDateChanged(dateChanged);
  credentials.setUuid(changeForUser.getUuid());
  sessionFactory.getCurrentSession().merge(credentials);
}
