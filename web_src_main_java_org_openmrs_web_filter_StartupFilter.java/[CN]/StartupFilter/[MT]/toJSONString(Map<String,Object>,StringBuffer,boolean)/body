{
  boolean first=true;
  sb.append('{');
  for (  Map.Entry<String,Object> entry : map.entrySet()) {
    if (first) {
      first=false;
    }
 else {
      sb.append(',');
    }
    sb.append('"');
    if (entry.getKey() == null) {
      sb.append("null");
    }
 else {
      if (escapeJavascript) {
        sb.append(JavaScriptUtils.javaScriptEscape(entry.getKey()));
      }
 else {
        sb.append(WebUtil.escapeQuotesAndNewlines(entry.getKey()));
      }
    }
    sb.append('"').append(':');
    sb.append(toJSONString(entry.getValue(),escapeJavascript));
  }
  sb.append('}');
}
